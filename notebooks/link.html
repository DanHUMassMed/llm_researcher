<!doctype html><html lang="en"><head><title data-rh="true">Self-hosting Llama 3 on a home server | by Dr James Ravenscroft | Apr, 2024 | Medium</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2024-04-20T19:12:18.510Z"/><meta data-rh="true" name="title" content="Self-hosting Llama 3 on a home server | by Dr James Ravenscroft | Apr, 2024 | Medium"/><meta data-rh="true" property="og:title" content="Self-hosting Llama 3 on a home server"/><meta data-rh="true" property="al:android:url" content="medium://p/00feeeba8174"/><meta data-rh="true" property="al:ios:url" content="medium://p/00feeeba8174"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="Last week Meta launched Llama 3, the latest in their open source LLM series. Llama 3 is particularly interesting because the 8 billion parameter model, which is small enough to run on a laptop…"/><meta data-rh="true" property="og:description" content="Self-hosting Llama 3 as your own ChatGPT replacement service using a 10 year old graphics card and open source components."/><meta data-rh="true" property="og:url" content="https://jamesravey.medium.com/self-hosting-llama-3-on-a-home-server-00feeeba8174"/><meta data-rh="true" property="al:web:url" content="https://jamesravey.medium.com/self-hosting-llama-3-on-a-home-server-00feeeba8174"/><meta data-rh="true" property="og:image" content="https://miro.medium.com/v2/resize:fit:1048/0*ay0UpuYeGQ8drvCP.png"/><meta data-rh="true" property="article:author" content="https://jamesravey.medium.com"/><meta data-rh="true" name="author" content="Dr James Ravenscroft"/><meta data-rh="true" name="robots" content="index,follow,max-image-preview:large"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" property="twitter:title" content="Self-hosting Llama 3 on a home server"/><meta data-rh="true" name="twitter:site" content="@Medium"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/00feeeba8174"/><meta data-rh="true" property="twitter:description" content="Self-hosting Llama 3 as your own ChatGPT replacement service using a 10 year old graphics card and open source components."/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/v2/resize:fit:1048/0*ay0UpuYeGQ8drvCP.png"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" name="twitter:creator" content="@jamesravey"/><meta data-rh="true" name="twitter:label1" content="Reading time"/><meta data-rh="true" name="twitter:data1" content="7 min read"/><link data-rh="true" rel="icon" href="https://miro.medium.com/v2/1*m-R_BkNf1Qjr1YbyOIJY2w.png"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/v2/resize:fill:152:152/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/v2/resize:fill:120:120/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/v2/resize:fill:76:76/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/v2/resize:fill:60:60/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/Medium-Avatar-500x500.svg" color="#171717"/><link data-rh="true" rel="preconnect" href="https://glyph.medium.com" crossOrigin=""/><link data-rh="true" id="glyph_preload_link" rel="preload" as="style" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" rel="author" href="https://jamesravey.medium.com"/><link data-rh="true" rel="canonical" href="https://brainsteam.co.uk/2024/04/20/self-hosting-llama-3-on-a-home-server/"/><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/00feeeba8174"/><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fresize:fit:1200\u002F0*ay0UpuYeGQ8drvCP.png"],"url":"https:\u002F\u002Fjamesravey.medium.com\u002Fself-hosting-llama-3-on-a-home-server-00feeeba8174","dateCreated":"2024-04-20T18:38:59.509Z","datePublished":"2024-04-20T18:38:59.509Z","dateModified":"2024-04-23T08:18:48.658Z","headline":"Self-hosting Llama 3 on a home server - Dr James Ravenscroft - Medium","name":"Self-hosting Llama 3 on a home server - Dr James Ravenscroft - Medium","description":"Last week Meta launched Llama 3, the latest in their open source LLM series. Llama 3 is particularly interesting because the 8 billion parameter model, which is small enough to run on a laptop…","identifier":"00feeeba8174","author":{"@type":"Person","name":"Dr James Ravenscroft","url":"https:\u002F\u002Fjamesravey.medium.com"},"creator":["Dr James Ravenscroft"],"publisher":{"@type":"Organization","name":"Medium","url":"https:\u002F\u002Fjamesravey.medium.com\u002F","logo":{"@type":"ImageObject","width":308,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fresize:fit:616\u002F1*OMF3fSqH8t4xBJ9-6oZDZw.png"}},"mainEntityOfPage":"https:\u002F\u002Fjamesravey.medium.com\u002Fself-hosting-llama-3-on-a-home-server-00feeeba8174"}</script><style type="text/css" data-fela-rehydration="522" data-fela-type="STATIC">html{box-sizing:border-box;-webkit-text-size-adjust:100%}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}#speechify-root{font-family:Sohne, sans-serif}div[data-popper-reference-hidden="true"]{visibility:hidden;pointer-events:none}.grecaptcha-badge{visibility:hidden}
/*XCode style (c) Angel Garcia <angelgarcia.mail@gmail.com>*/.hljs {background: #fff;color: black;
}/* Gray DOCTYPE selectors like WebKit */
.xml .hljs-meta {color: #c0c0c0;
}.hljs-comment,
.hljs-quote {color: #007400;
}.hljs-tag,
.hljs-attribute,
.hljs-keyword,
.hljs-selector-tag,
.hljs-literal,
.hljs-name {color: #aa0d91;
}.hljs-variable,
.hljs-template-variable {color: #3F6E74;
}.hljs-code,
.hljs-string,
.hljs-meta .hljs-string {color: #c41a16;
}.hljs-regexp,
.hljs-link {color: #0E0EFF;
}.hljs-title,
.hljs-symbol,
.hljs-bullet,
.hljs-number {color: #1c00cf;
}.hljs-section,
.hljs-meta {color: #643820;
}.hljs-title.class_,
.hljs-class .hljs-title,
.hljs-type,
.hljs-built_in,
.hljs-params {color: #5c2699;
}.hljs-attr {color: #836C28;
}.hljs-subst {color: #000;
}.hljs-formula {background-color: #eee;font-style: italic;
}.hljs-addition {background-color: #baeeba;
}.hljs-deletion {background-color: #ffc8bd;
}.hljs-selector-id,
.hljs-selector-class {color: #9b703f;
}.hljs-doctag,
.hljs-strong {font-weight: bold;
}.hljs-emphasis {font-style: italic;
}
</style><style type="text/css" data-fela-rehydration="522" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@-moz-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}</style><style type="text/css" data-fela-rehydration="522" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{display:block}.m{position:sticky}.n{top:0}.o{z-index:500}.p{padding:0 24px}.q{align-items:center}.r{border-bottom:solid 1px #F2F2F2}.y{height:41px}.z{line-height:20px}.ab{display:flex}.ac{height:57px}.ae{flex:1 0 auto}.af{color:inherit}.ag{fill:inherit}.ah{font-size:inherit}.ai{border:inherit}.aj{font-family:inherit}.ak{letter-spacing:inherit}.al{font-weight:inherit}.am{padding:0}.an{margin:0}.ao{cursor:pointer}.ap:disabled{cursor:not-allowed}.aq:disabled{color:#6B6B6B}.ar:disabled{fill:#6B6B6B}.au{fill:rgba(0, 0, 0, 1)}.av{height:22px}.aw{margin-left:16px}.ax{border:none}.ay{border-radius:20px}.az{width:240px}.ba{background:#F9F9F9}.bb path{fill:#6B6B6B}.bd{outline:none}.be{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.bf{font-size:14px}.bg{width:100%}.bh{padding:10px 20px 10px 0}.bi{background-color:transparent}.bj{color:#242424}.bk::placeholder{color:#6B6B6B}.bl{display:inline-block}.bm{margin-left:12px}.bn{margin-right:12px}.bo{border-radius:4px}.bp{margin-left:24px}.bq{height:24px}.bw{background-color:#F9F9F9}.bx{border-radius:50%}.by{height:32px}.bz{width:32px}.ca{justify-content:center}.cg{max-width:680px}.ch{min-width:0}.ci{animation:k1 1.2s ease-in-out infinite}.cj{height:100vh}.ck{margin-bottom:16px}.cl{margin-top:48px}.cm{align-items:flex-start}.cn{flex-direction:column}.co{justify-content:space-between}.cp{margin-bottom:24px}.cv{width:80%}.cw{background-color:#F2F2F2}.dc{height:44px}.dd{width:44px}.de{margin:auto 0}.df{margin-bottom:4px}.dg{height:16px}.dh{width:120px}.di{width:80px}.do{margin-bottom:8px}.dp{width:96%}.dq{width:98%}.dr{width:81%}.ds{margin-left:8px}.dt{color:#6B6B6B}.du{font-size:13px}.dv{height:100%}.eo{color:#FFFFFF}.ep{fill:#FFFFFF}.eq{background:#1A8917}.er{border-color:#1A8917}.ev:disabled{cursor:inherit !important}.ew:disabled{opacity:0.3}.ex:disabled:hover{background:#1A8917}.ey:disabled:hover{border-color:#1A8917}.ez{border-radius:99em}.fa{border-width:1px}.fb{border-style:solid}.fc{box-sizing:border-box}.fd{text-decoration:none}.fe{text-align:center}.fh{margin-right:32px}.fi{position:relative}.fj{fill:#6B6B6B}.fm{background:transparent}.fn svg{margin-left:4px}.fo svg{fill:#6B6B6B}.fq{box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.05)}.fr{position:absolute}.fy{margin:0 24px}.gc{background:rgba(255, 255, 255, 1)}.gd{border:1px solid #F2F2F2}.ge{box-shadow:0 1px 4px #F2F2F2}.gf{max-height:100vh}.gg{overflow-y:auto}.gh{left:0}.gi{top:calc(100vh + 100px)}.gj{bottom:calc(100vh + 100px)}.gk{width:10px}.gl{pointer-events:none}.gm{word-break:break-word}.gn{word-wrap:break-word}.go:after{display:block}.gp:after{content:""}.gq:after{clear:both}.gr{line-height:1.23}.gs{letter-spacing:0}.gt{font-style:normal}.gu{font-weight:700}.hu{@media all and (max-width: 551.98px):8px}.hv{@media all and (min-width: 552px) and (max-width: 727.98px):8px}.hw{@media all and (min-width: 728px) and (max-width: 903.98px):16px}.hx{@media all and (min-width: 904px) and (max-width: 1079.98px):16px}.hy{@media all and (min-width: 1080px):16px}.ie{align-items:baseline}.if{width:48px}.ig{height:48px}.ih{border:2px solid rgba(255, 255, 255, 1)}.ii{z-index:0}.ij{box-shadow:none}.ik{border:1px solid rgba(0, 0, 0, 0.05)}.il{margin-bottom:2px}.im{flex-wrap:nowrap}.in{font-size:16px}.io{line-height:24px}.iq{margin:0 8px}.ir{display:inline}.is{color:#1A8917}.it{fill:#1A8917}.iw{flex:0 0 auto}.iz{flex-wrap:wrap}.ja{padding-left:8px}.jb{padding-right:8px}.kc> *{flex-shrink:0}.kd{overflow-x:scroll}.ke::-webkit-scrollbar{display:none}.kf{scrollbar-width:none}.kg{-ms-overflow-style:none}.kh{width:74px}.ki{flex-direction:row}.kj{z-index:2}.kk{margin-right:4px}.kn{-webkit-user-select:none}.ko{border:0}.kp{fill:rgba(117, 117, 117, 1)}.ks{outline:0}.kt{user-select:none}.ku> svg{pointer-events:none}.ld{cursor:progress}.le{margin-left:4px}.lf{margin-top:0px}.lg{opacity:1}.lh{padding:4px 0}.lk{width:16px}.lm{display:inline-flex}.ls{max-width:100%}.lt{padding:8px 2px}.lu svg{color:#6B6B6B}.ml{margin-left:auto}.mm{margin-right:auto}.mn{max-width:1048px}.mt{clear:both}.mv{cursor:zoom-in}.mw{z-index:auto}.my{height:auto}.mz{line-height:1.18}.na{letter-spacing:-0.022em}.nb{font-weight:600}.nu{margin-bottom:-0.31em}.nv{line-height:1.58}.nw{letter-spacing:-0.004em}.nx{font-family:source-serif-pro, Georgia, Cambria, "Times New Roman", Times, serif}.op{margin-bottom:-0.46em}.oq{text-decoration:underline}.ow{line-height:1.12}.pp{margin-bottom:-0.28em}.pq{max-width:1024px}.pw{overflow-x:auto}.px{font-family:source-code-pro, Menlo, Monaco, "Courier New", Courier, monospace}.py{padding:32px}.pz{border:1px solid #E5E5E5}.qa{line-height:1.4}.qb{margin-top:-0.2em}.qc{margin-bottom:-0.2em}.qd{white-space:pre}.qe{min-width:fit-content}.qf{max-width:889px}.qg{padding:2px 4px}.qh{font-size:75%}.qi> strong{font-family:inherit}.qj{max-width:917px}.qk{margin-top:32px}.ql{margin-bottom:14px}.qm{padding-top:24px}.qn{padding-bottom:10px}.qo{background-color:#000000}.qp{height:3px}.qq{width:3px}.qr{margin-right:20px}.qs{font-style:italic}.qt{margin-bottom:26px}.qu{margin-top:6px}.qv{margin-top:8px}.qw{margin-right:8px}.qx{padding:8px 16px}.qy{border-radius:100px}.qz{transition:background 300ms ease}.rb{white-space:nowrap}.rc{border-top:none}.ri{height:52px}.rj{max-height:52px}.rk{box-sizing:content-box}.rl{position:static}.rm{z-index:1}.ro{max-width:155px}.rz{align-items:flex-end}.sa{width:76px}.sb{height:76px}.sc{border:2px solid #F9F9F9}.sd{height:72px}.se{width:72px}.sf{width:auto}.sg{stroke:#F2F2F2}.sh{height:36px}.si{width:36px}.sj{color:#F2F2F2}.sk{fill:#F2F2F2}.sl{background:#F2F2F2}.sm{border-color:#F2F2F2}.ss{font-weight:500}.st{font-size:24px}.su{line-height:30px}.sv{letter-spacing:-0.016em}.sw{margin-top:16px}.sx{height:0px}.sy{border-bottom:solid 1px #E5E5E5}.sz{margin-top:72px}.ta{padding:24px 0}.tb{margin-bottom:0px}.tc{margin-right:16px}.as:hover:not(:disabled){color:rgba(25, 25, 25, 1)}.at:hover:not(:disabled){fill:rgba(25, 25, 25, 1)}.es:hover{background:#156D12}.et:hover{border-color:#156D12}.eu:hover{cursor:pointer}.fk:hover{color:#242424}.fl:hover{fill:#242424}.fp:hover svg{fill:#242424}.fs:hover{background-color:rgba(0, 0, 0, 0.1)}.ip:hover{text-decoration:underline}.iu:hover:not(:disabled){color:#156D12}.iv:hover:not(:disabled){fill:#156D12}.kr:hover{fill:rgba(8, 8, 8, 1)}.li:hover{fill:#000000}.lj:hover p{color:#000000}.ll:hover{color:#000000}.lv:hover svg{color:#000000}.ra:hover{background-color:#F2F2F2}.sn:hover{background:#F2F2F2}.so:hover{border-color:#F2F2F2}.sp:hover{cursor:wait}.sq:hover{color:#F2F2F2}.sr:hover{fill:#F2F2F2}.bc:focus-within path{fill:#242424}.kq:focus{fill:rgba(8, 8, 8, 1)}.lw:focus svg{color:#000000}.mx:focus{transform:scale(1.01)}.kv:active{border-style:none}</style><style type="text/css" data-fela-rehydration="522" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.bv{width:64px}.cf{margin:0 64px}.cu{height:48px}.db{margin-bottom:52px}.dn{margin-bottom:48px}.ee{font-size:14px}.ef{line-height:20px}.el{font-size:13px}.em{padding:5px 12px}.fg{display:flex}.fx{margin-bottom:68px}.gb{max-width:680px}.hp{font-size:42px}.hq{margin-top:1.19em}.hr{margin-bottom:32px}.hs{line-height:52px}.ht{letter-spacing:-0.011em}.id{align-items:center}.jo{border-top:solid 1px #F2F2F2}.jp{border-bottom:solid 1px #F2F2F2}.jq{margin:32px 0 0}.jr{padding:3px 8px}.ka> *{margin-right:24px}.kb> :last-child{margin-right:0}.lc{margin-top:0px}.lr{margin:0}.ms{margin-top:40px}.nq{font-size:20px}.nr{margin-top:1.72em}.ns{line-height:24px}.nt{letter-spacing:0}.om{margin-top:0.94em}.on{line-height:32px}.oo{letter-spacing:-0.003em}.ov{margin-top:2.14em}.pl{font-size:24px}.pm{margin-top:1.95em}.pn{line-height:30px}.po{letter-spacing:-0.016em}.pv{margin-top:56px}.rh{margin-bottom:88px}.rt{display:inline-block}.ry{padding-top:72px}</style><style type="text/css" data-fela-rehydration="522" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.lb{margin-top:0px}.rs{display:inline-block}</style><style type="text/css" data-fela-rehydration="522" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.la{margin-top:0px}.rr{display:inline-block}</style><style type="text/css" data-fela-rehydration="522" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.ky{margin-top:0px}.kz{margin-right:0px}.rq{display:inline-block}</style><style type="text/css" data-fela-rehydration="522" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.s{display:flex}.t{justify-content:space-between}.br{width:24px}.cb{margin:0 24px}.cq{height:40px}.cx{margin-bottom:44px}.dj{margin-bottom:32px}.dw{font-size:13px}.dx{line-height:20px}.eg{padding:0px 8px 1px}.ft{margin-bottom:4px}.gv{font-size:32px}.gw{margin-top:1.01em}.gx{margin-bottom:24px}.gy{line-height:38px}.gz{letter-spacing:-0.014em}.hz{align-items:flex-start}.ix{flex-direction:column}.jc{margin:24px -24px 0}.jd{padding:0}.js> *{margin-right:8px}.jt> :last-child{margin-right:24px}.kl{margin-left:0px}.kw{margin-top:0px}.kx{margin-right:0px}.ln{margin:0}.lx{border:1px solid #F2F2F2}.ly{border-radius:99em}.lz{padding:0px 16px 0px 12px}.ma{height:38px}.mb{align-items:center}.md svg{margin-right:8px}.mo{margin-top:32px}.nc{font-size:16px}.nd{margin-top:1.23em}.ne{letter-spacing:0}.ny{font-size:18px}.nz{margin-top:0.67em}.oa{line-height:28px}.ob{letter-spacing:-0.003em}.or{margin-top:1.56em}.ox{font-size:20px}.oy{margin-top:1.2em}.oz{line-height:24px}.pr{margin-top:40px}.rd{margin-bottom:80px}.rp{display:inline-block}.ru{padding-top:48px}.mc:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="522" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.bu{width:64px}.ce{margin:0 64px}.ct{height:48px}.da{margin-bottom:52px}.dm{margin-bottom:48px}.ec{font-size:14px}.ed{line-height:20px}.ej{font-size:13px}.ek{padding:5px 12px}.ff{display:flex}.fw{margin-bottom:68px}.ga{max-width:680px}.hk{font-size:42px}.hl{margin-top:1.19em}.hm{margin-bottom:32px}.hn{line-height:52px}.ho{letter-spacing:-0.011em}.ic{align-items:center}.jk{border-top:solid 1px #F2F2F2}.jl{border-bottom:solid 1px #F2F2F2}.jm{margin:32px 0 0}.jn{padding:3px 8px}.jy> *{margin-right:24px}.jz> :last-child{margin-right:0}.lq{margin:0}.mr{margin-top:40px}.nm{font-size:20px}.nn{margin-top:1.72em}.no{line-height:24px}.np{letter-spacing:0}.oj{margin-top:0.94em}.ok{line-height:32px}.ol{letter-spacing:-0.003em}.ou{margin-top:2.14em}.ph{font-size:24px}.pi{margin-top:1.95em}.pj{line-height:30px}.pk{letter-spacing:-0.016em}.pu{margin-top:56px}.rg{margin-bottom:88px}.rx{padding-top:72px}</style><style type="text/css" data-fela-rehydration="522" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.w{display:flex}.x{justify-content:space-between}.bt{width:64px}.cd{margin:0 48px}.cs{height:48px}.cz{margin-bottom:52px}.dl{margin-bottom:48px}.ea{font-size:13px}.eb{line-height:20px}.ei{padding:0px 8px 1px}.fv{margin-bottom:68px}.fz{max-width:680px}.hf{font-size:42px}.hg{margin-top:1.19em}.hh{margin-bottom:32px}.hi{line-height:52px}.hj{letter-spacing:-0.011em}.ib{align-items:center}.jg{border-top:solid 1px #F2F2F2}.jh{border-bottom:solid 1px #F2F2F2}.ji{margin:32px 0 0}.jj{padding:3px 8px}.jw> *{margin-right:24px}.jx> :last-child{margin-right:0}.lp{margin:0}.mq{margin-top:40px}.ni{font-size:20px}.nj{margin-top:1.72em}.nk{line-height:24px}.nl{letter-spacing:0}.og{margin-top:0.94em}.oh{line-height:32px}.oi{letter-spacing:-0.003em}.ot{margin-top:2.14em}.pd{font-size:24px}.pe{margin-top:1.95em}.pf{line-height:30px}.pg{letter-spacing:-0.016em}.pt{margin-top:56px}.rf{margin-bottom:88px}.rw{padding-top:72px}</style><style type="text/css" data-fela-rehydration="522" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.u{display:flex}.v{justify-content:space-between}.bs{width:24px}.cc{margin:0 24px}.cr{height:40px}.cy{margin-bottom:44px}.dk{margin-bottom:32px}.dy{font-size:13px}.dz{line-height:20px}.eh{padding:0px 8px 1px}.fu{margin-bottom:4px}.ha{font-size:32px}.hb{margin-top:1.01em}.hc{margin-bottom:24px}.hd{line-height:38px}.he{letter-spacing:-0.014em}.ia{align-items:flex-start}.iy{flex-direction:column}.je{margin:24px 0 0}.jf{padding:0}.ju> *{margin-right:8px}.jv> :last-child{margin-right:8px}.km{margin-left:0px}.lo{margin:0}.me{border:1px solid #F2F2F2}.mf{border-radius:99em}.mg{padding:0px 16px 0px 12px}.mh{height:38px}.mi{align-items:center}.mk svg{margin-right:8px}.mp{margin-top:32px}.nf{font-size:16px}.ng{margin-top:1.23em}.nh{letter-spacing:0}.oc{font-size:18px}.od{margin-top:0.67em}.oe{line-height:28px}.of{letter-spacing:-0.003em}.os{margin-top:1.56em}.pa{font-size:20px}.pb{margin-top:1.2em}.pc{line-height:24px}.ps{margin-top:40px}.re{margin-bottom:80px}.rv{padding-top:48px}.mj:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="522" data-fela-type="RULE" media="print">.rn{display:none}</style><style type="text/css" data-fela-rehydration="522" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.mu{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}</style></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><div class="l c"><div class="l m n o c"><div class="p q r s t u v w x i d y z"><a class="dt ag du be ak b am an ao ap aq ar as at s u w i d q dv z" href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F00feeeba8174&amp;%7Efeature=LoOpenInAppButton&amp;%7Echannel=ShowPostUnderUser&amp;source=---two_column_layout_nav----------------------------------" rel="noopener follow">Open in app<svg width="10" height="10" viewBox="0 0 10 10" fill="none" class="ds"><path d="M.98 8.48a.37.37 0 1 0 .54.54l-.54-.54zm7.77-7.23h.38c0-.2-.17-.38-.38-.38v.38zM8.37 6.5a.37.37 0 1 0 .76 0h-.76zM3.5.87a.37.37 0 1 0 0 .76V.88zM1.52 9.03l7.5-7.5-.54-.54-7.5 7.5.54.54zm6.86-7.77V6.5h.74V1.25h-.74zm-4.88.38h5.25V.88H3.5v.74z" fill="currentColor"></path></svg></a><div class="ab q"><p class="be b dw dx dy dz ea eb ec ed ee ef dt"><span><button class="be b dw dx eg dy dz eh ea eb ei ej ed ek el ef em eo ep eq er es et eu ev ew ex ey ez fa fb fc bl fd fe" data-testid="headerSignUpButton">Sign up</button></span></p><div class="aw l"><p class="be b dw dx dy dz ea eb ec ed ee ef dt"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSignInButton" href="https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fjamesravey.medium.com%2Fself-hosting-llama-3-on-a-home-server-00feeeba8174&amp;source=post_page---two_column_layout_nav-----------------------global_nav-----------" rel="noopener follow">Sign in</a></span></p></div></div></div><div class="p q r ab ac"><div class="ab q ae"><a class="af ag ah ai aj ak al am an ao ap aq ar as at ab" aria-label="Homepage" data-testid="headerMediumLogo" href="https://medium.com/?source=---two_column_layout_nav----------------------------------" rel="noopener follow"><svg viewBox="0 0 3940 610" class="au av"><path d="M594.79 308.2c0 163.76-131.85 296.52-294.5 296.52S5.8 472 5.8 308.2 137.65 11.69 300.29 11.69s294.5 132.75 294.5 296.51M917.86 308.2c0 154.16-65.93 279.12-147.25 279.12s-147.25-125-147.25-279.12S689.29 29.08 770.61 29.08s147.25 125 147.25 279.12M1050 308.2c0 138.12-23.19 250.08-51.79 250.08s-51.79-112-51.79-250.08 23.19-250.08 51.8-250.08S1050 170.09 1050 308.2M1862.77 37.4l.82-.18v-6.35h-167.48l-155.51 365.5-155.51-365.5h-180.48v6.35l.81.18c30.57 6.9 46.09 17.19 46.09 54.3v434.45c0 37.11-15.58 47.4-46.15 54.3l-.81.18V587H1327v-6.35l-.81-.18c-30.57-6.9-46.09-17.19-46.09-54.3V116.9L1479.87 587h11.33l205.59-483.21V536.9c-2.62 29.31-18 38.36-45.68 44.61l-.82.19v6.3h213.3v-6.3l-.82-.19c-27.71-6.25-43.46-15.3-46.08-44.61l-.14-445.2h.14c0-37.11 15.52-47.4 46.08-54.3m97.43 287.8c3.49-78.06 31.52-134.4 78.56-135.37 14.51.24 26.68 5 36.14 14.16 20.1 19.51 29.55 60.28 28.09 121.21zm-2.11 22h250v-1.05c-.71-59.69-18-106.12-51.34-138-28.82-27.55-71.49-42.71-116.31-42.71h-1c-23.26 0-51.79 5.64-72.09 15.86-23.11 10.7-43.49 26.7-60.45 47.7-27.3 33.83-43.84 79.55-47.86 130.93-.13 1.54-.24 3.08-.35 4.62s-.18 2.92-.25 4.39a332.64 332.64 0 0 0-.36 21.69C1860.79 507 1923.65 600 2035.3 600c98 0 155.07-71.64 169.3-167.8l-7.19-2.53c-25 51.68-69.9 83-121 79.18-69.76-5.22-123.2-75.95-118.35-161.63m532.69 157.68c-8.2 19.45-25.31 30.15-48.24 30.15s-43.89-15.74-58.78-44.34c-16-30.7-24.42-74.1-24.42-125.51 0-107 33.28-176.21 84.79-176.21 21.57 0 38.55 10.7 46.65 29.37zm165.84 76.28c-30.57-7.23-46.09-18-46.09-57V5.28L2424.77 60v6.7l1.14-.09c25.62-2.07 43 1.47 53.09 10.79 7.9 7.3 11.75 18.5 11.75 34.26v71.14c-18.31-11.69-40.09-17.38-66.52-17.38-53.6 0-102.59 22.57-137.92 63.56-36.83 42.72-56.3 101.1-56.3 168.81C2230 518.72 2289.53 600 2378.13 600c51.83 0 93.53-28.4 112.62-76.3V588h166.65v-6.66zm159.29-505.33c0-37.76-28.47-66.24-66.24-66.24-37.59 0-67 29.1-67 66.24s29.44 66.24 67 66.24c37.77 0 66.24-28.48 66.24-66.24m43.84 505.33c-30.57-7.23-46.09-18-46.09-57h-.13V166.65l-166.66 47.85v6.5l1 .09c36.06 3.21 45.93 15.63 45.93 57.77V588h166.8v-6.66zm427.05 0c-30.57-7.23-46.09-18-46.09-57V166.65L3082 212.92v6.52l.94.1c29.48 3.1 38 16.23 38 58.56v226c-9.83 19.45-28.27 31-50.61 31.78-36.23 0-56.18-24.47-56.18-68.9V166.66l-166.66 47.85V221l1 .09c36.06 3.2 45.94 15.62 45.94 57.77v191.27a214.48 214.48 0 0 0 3.47 39.82l3 13.05c14.11 50.56 51.08 77 109 77 49.06 0 92.06-30.37 111-77.89v66h166.66v-6.66zM3934.2 588v-6.67l-.81-.19c-33.17-7.65-46.09-22.07-46.09-51.43v-243.2c0-75.83-42.59-121.09-113.93-121.09-52 0-95.85 30.05-112.73 76.86-13.41-49.6-52-76.86-109.06-76.86-50.12 0-89.4 26.45-106.25 71.13v-69.87l-166.66 45.89v6.54l1 .09c35.63 3.16 45.93 15.94 45.93 57V588h155.5v-6.66l-.82-.2c-26.46-6.22-35-17.56-35-46.66V255.72c7-16.35 21.11-35.72 49-35.72 34.64 0 52.2 24 52.2 71.28V588h155.54v-6.66l-.82-.2c-26.46-6.22-35-17.56-35-46.66v-248a160.45 160.45 0 0 0-2.2-27.68c7.42-17.77 22.34-38.8 51.37-38.8 35.13 0 52.2 23.31 52.2 71.28V588z"></path></svg></a><div class="aw h"><div class="ab ax ay az ba q bb bc"><div class="bl" aria-hidden="false" aria-describedby="searchResults" aria-labelledby="searchResults"></div><div class="bm bn ab"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.1 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0zm6.94-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .8-.79l-3.74-3.73A8.05 8.05 0 0 0 11.04 3v.01z" fill="currentColor"></path></svg></div><input role="combobox" aria-controls="searchResults" aria-expanded="false" aria-label="search" data-testid="headerSearchInput" tabindex="0" class="ax bd be bf z bg bh bi bj bk" placeholder="Search" value=""/></div></div></div><div class="h k w ff fg"><div class="fh ab"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerWriteButton" href="https://medium.com/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fnew-story&amp;source=---two_column_layout_nav-----------------------new_post_topnav-----------" rel="noopener follow"><div class="be b bf z dt fi fj ab q fk fl"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Write"><path d="M14 4a.5.5 0 0 0 0-1v1zm7 6a.5.5 0 0 0-1 0h1zm-7-7H4v1h10V3zM3 4v16h1V4H3zm1 17h16v-1H4v1zm17-1V10h-1v10h1zm-1 1a1 1 0 0 0 1-1h-1v1zM3 20a1 1 0 0 0 1 1v-1H3zM4 3a1 1 0 0 0-1 1h1V3z" fill="currentColor"></path><path d="M17.5 4.5l-8.46 8.46a.25.25 0 0 0-.06.1l-.82 2.47c-.07.2.12.38.31.31l2.47-.82a.25.25 0 0 0 .1-.06L19.5 6.5m-2-2l2.32-2.32c.1-.1.26-.1.36 0l1.64 1.64c.1.1.1.26 0 .36L19.5 6.5m-2-2l2 2" stroke="currentColor"></path></svg><div class="ds l">Write</div></div></a></span></div></div><div class="k j i d"><div class="fh ab"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSearchButton" href="https://medium.com/search?source=---two_column_layout_nav----------------------------------" rel="noopener follow"><div class="be b bf z dt fi fj ab q fk fl"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-label="Search"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.1 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0zm6.94-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .8-.79l-3.74-3.73A8.05 8.05 0 0 0 11.04 3v.01z" fill="currentColor"></path></svg></div></a></div></div><div class="fh h k j"><div class="ab q"><p class="be b dw dx dy dz ea eb ec ed ee ef dt"><span><button class="be b dw dx eg dy dz eh ea eb ei ej ed ek el ef em eo ep eq er es et eu ev ew ex ey ez fa fb fc bl fd fe" data-testid="headerSignUpButton">Sign up</button></span></p><div class="aw l"><p class="be b dw dx dy dz ea eb ec ed ee ef dt"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerSignInButton" href="https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fjamesravey.medium.com%2Fself-hosting-llama-3-on-a-home-server-00feeeba8174&amp;source=post_page---two_column_layout_nav-----------------------global_nav-----------" rel="noopener follow">Sign in</a></span></p></div></div></div><div class="l" aria-hidden="false"><button class="ax fm am ab q ao fn fo fp" aria-label="user options menu" data-testid="headerUserIcon"><div class="l fi"><img alt="" class="l fc bx by bz cw" src="https://miro.medium.com/v2/resize:fill:64:64/1*dmbNkD5D-u45r44go_cf0g.png" width="32" height="32" loading="lazy" role="presentation"/><div class="fq bx l by bz fr n ax fs"></div></div></button></div></div></div><div class="l"><div class="ft fu fv fw fx l"><div class="ab ca"><div class="ch bg fy fz ga gb"></div></div><article><div class="l"><div class="l"><span class="l"></span><section><div><div class="fr gh gi gj gk gl"></div><div class="gm gn go gp gq"><div class="ab ca"><div class="ch bg fy fz ga gb"><div><h1 id="dab8" class="pw-post-title gr gs gt be gu gv gw gx gy gz ha hb hc hd he hf hg hh hi hj hk hl hm hn ho hp hq hr hs ht bj" data-testid="storyTitle">Self-hosting Llama 3 on a home server</h1><div class="hu hv hw hx hy"><div class="speechify-ignore ab co"><div class="speechify-ignore bg l"><div class="hz ia ib ic id ab"><div><div class="ab ie"><a rel="noopener follow" href="/?source=post_page-----00feeeba8174--------------------------------"><div><div class="bl" aria-hidden="false"><div class="l if ig bx ih ii"><div class="l fi"><img alt="Dr James Ravenscroft" class="l fc bx dc dd cw" src="https://miro.medium.com/v2/resize:fill:88:88/1*L5svwtMTbzdaIqtP0pWwWQ.jpeg" width="44" height="44" loading="lazy" data-testid="authorPhoto"/><div class="ij bx l dc dd fr n ik fs"></div></div></div></div></div></a></div></div><div class="bm bg l"><div class="ab"><div style="flex:1"><span class="be b bf z bj"><div class="il ab q"><div class="ab q im"><div class="ab q"><div><div class="bl" aria-hidden="false"><p class="be b in io bj"><a class="af ag ah ai aj ak al am an ao ap aq ar ip" data-testid="authorName" rel="noopener follow" href="/?source=post_page-----00feeeba8174--------------------------------">Dr James Ravenscroft</a></p></div></div></div><span class="iq ir" aria-hidden="true"><span class="be b bf z dt">·</span></span><p class="be b in io dt"><span><a class="is it ah ai aj ak al am an ao ap aq ar ew iu iv" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F10d0686f671c&amp;operation=register&amp;redirect=https%3A%2F%2Fjamesravey.medium.com%2Fself-hosting-llama-3-on-a-home-server-00feeeba8174&amp;user=Dr+James+Ravenscroft&amp;userId=10d0686f671c&amp;source=post_page-10d0686f671c----00feeeba8174---------------------post_header-----------" rel="noopener follow">Follow</a></span></p></div></div></span></div></div><div class="l iw"><span class="be b bf z dt"><div class="ab cm ix iy iz"><span class="be b bf z dt"><div class="ab ae"><span data-testid="storyReadTime">7 min read</span><div class="ja jb l" aria-hidden="true"><span class="l" aria-hidden="true"><span class="be b bf z dt">·</span></span></div><span data-testid="storyPublishDate">Apr 20, 2024</span></div></span></div></span></div></div></div><div class="ab co jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr"><div class="h k w ff fg q"><div class="kh l"><div class="ab q ki kj"><div class="pw-multi-vote-icon fi kk kl km kn"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerClapButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fp%2F00feeeba8174&amp;operation=register&amp;redirect=https%3A%2F%2Fjamesravey.medium.com%2Fself-hosting-llama-3-on-a-home-server-00feeeba8174&amp;user=Dr+James+Ravenscroft&amp;userId=10d0686f671c&amp;source=-----00feeeba8174---------------------clap_footer-----------" rel="noopener follow"><div><div class="bl" aria-hidden="false"><div class="ko ao kp kq kr ks am kt ku kv kn"><svg width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.37.83L12 3.28l.63-2.45h-1.26zM13.92 3.95l1.52-2.1-1.18-.4-.34 2.5zM8.59 1.84l1.52 2.11-.34-2.5-1.18.4zM18.52 18.92a4.23 4.23 0 0 1-2.62 1.33l.41-.37c2.39-2.4 2.86-4.95 1.4-7.63l-.91-1.6-.8-1.67c-.25-.56-.19-.98.21-1.29a.7.7 0 0 1 .55-.13c.28.05.54.23.72.5l2.37 4.16c.97 1.62 1.14 4.23-1.33 6.7zm-11-.44l-4.15-4.15a.83.83 0 0 1 1.17-1.17l2.16 2.16a.37.37 0 0 0 .51-.52l-2.15-2.16L3.6 11.2a.83.83 0 0 1 1.17-1.17l3.43 3.44a.36.36 0 0 0 .52 0 .36.36 0 0 0 0-.52L5.29 9.51l-.97-.97a.83.83 0 0 1 0-1.16.84.84 0 0 1 1.17 0l.97.97 3.44 3.43a.36.36 0 0 0 .51 0 .37.37 0 0 0 0-.52L6.98 7.83a.82.82 0 0 1-.18-.9.82.82 0 0 1 .76-.51c.22 0 .43.09.58.24l5.8 5.79a.37.37 0 0 0 .58-.42L13.4 9.67c-.26-.56-.2-.98.2-1.29a.7.7 0 0 1 .55-.13c.28.05.55.23.73.5l2.2 3.86c1.3 2.38.87 4.59-1.29 6.75a4.65 4.65 0 0 1-4.19 1.37 7.73 7.73 0 0 1-4.07-2.25zm3.23-12.5l2.12 2.11c-.41.5-.47 1.17-.13 1.9l.22.46-3.52-3.53a.81.81 0 0 1-.1-.36c0-.23.09-.43.24-.59a.85.85 0 0 1 1.17 0zm7.36 1.7a1.86 1.86 0 0 0-1.23-.84 1.44 1.44 0 0 0-1.12.27c-.3.24-.5.55-.58.89-.25-.25-.57-.4-.91-.47-.28-.04-.56 0-.82.1l-2.18-2.18a1.56 1.56 0 0 0-2.2 0c-.2.2-.33.44-.4.7a1.56 1.56 0 0 0-2.63.75 1.6 1.6 0 0 0-2.23-.04 1.56 1.56 0 0 0 0 2.2c-.24.1-.5.24-.72.45a1.56 1.56 0 0 0 0 2.2l.52.52a1.56 1.56 0 0 0-.75 2.61L7 19a8.46 8.46 0 0 0 4.48 2.45 5.18 5.18 0 0 0 3.36-.5 4.89 4.89 0 0 0 4.2-1.51c2.75-2.77 2.54-5.74 1.43-7.59L18.1 7.68z"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l kw kx ky kz la lb lc"><p class="be b du z dt"><span class="ld">--</span></p></div></div></div><div><div class="bl" aria-hidden="false"><button class="ao ko lg lh ab q fj li lj" aria-label="responses"><svg width="24" height="24" viewBox="0 0 24 24" class="lf"><path d="M18 16.8a7.14 7.14 0 0 0 2.24-5.32c0-4.12-3.53-7.48-8.05-7.48C7.67 4 4 7.36 4 11.48c0 4.13 3.67 7.48 8.2 7.48a8.9 8.9 0 0 0 2.38-.32c.23.2.48.39.75.56 1.06.69 2.2 1.04 3.4 1.04.22 0 .4-.11.48-.29a.5.5 0 0 0-.04-.52 6.4 6.4 0 0 1-1.16-2.65v.02zm-3.12 1.06l-.06-.22-.32.1a8 8 0 0 1-2.3.33c-4.03 0-7.3-2.96-7.3-6.59S8.17 4.9 12.2 4.9c4 0 7.1 2.96 7.1 6.6 0 1.8-.6 3.47-2.02 4.72l-.2.16v.26l.02.3a6.74 6.74 0 0 0 .88 2.4 5.27 5.27 0 0 1-2.17-.86c-.28-.17-.72-.38-.94-.59l.01-.02z"></path></svg><p class="be b du z dt"><span class="pw-responses-count le lf">2</span></p></button></div></div></div><div class="ab q js jt ju jv jw jx jy jz ka kb kc kd ke kf kg"><div class="lk k j i d"></div><div class="h k"><div><div class="bl" aria-hidden="false"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="headerBookmarkButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F00feeeba8174&amp;operation=register&amp;redirect=https%3A%2F%2Fjamesravey.medium.com%2Fself-hosting-llama-3-on-a-home-server-00feeeba8174&amp;source=-----00feeeba8174---------------------bookmark_footer-----------" rel="noopener follow"><svg width="25" height="25" viewBox="0 0 25 25" fill="none" class="dt ll" aria-label="Add to list bookmark button"><path d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18V2.5zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4V7z" fill="currentColor"></path></svg></a></span></div></div></div><div class="fc lm cm"><div class="l ae"><div class="ab ca"><div class="ln lo lp lq lr ls ch bg"><div class="ab"><div class="bl bg" aria-hidden="false"><div><div class="bl" aria-hidden="false"><button aria-label="Listen" data-testid="audioPlayButton" class="af fj ah ai aj ak al lt an ao ap ew lu lv lj lw lx ly lz ma s mb mc md me mf mg mh u mi mj mk"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0zm9-10a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm3.38 10.42l-4.6 3.06a.5.5 0 0 1-.78-.41V8.93c0-.4.45-.63.78-.41l4.6 3.06c.3.2.3.64 0 .84z" fill="currentColor"></path></svg><div class="j i d"><p class="be b bf z dt">Listen</p></div></button></div></div></div></div></div></div></div></div><div class="bl" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bl" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="af fj ah ai aj ak al lt an ao ap ew lu lv lj lw lx ly lz ma s mb mc md me mf mg mh u mi mj mk"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.22 4.93a.42.42 0 0 1-.12.13h.01a.45.45 0 0 1-.29.08.52.52 0 0 1-.3-.13L12.5 3v7.07a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5V3.02l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.8a.42.42 0 0 1 .07.5zm-.1.14zm.88 2h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11a2 2 0 0 1-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.14c.1.1.15.22.15.35a.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9V8.96c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1z" fill="currentColor"></path></svg><div class="j i d"><p class="be b bf z dt">Share</p></div></button></div></div></div></div></div></div></div></div></div><figure class="mo mp mq mr ms mt ml mm paragraph-image"><div role="button" tabindex="0" class="mu mv fi mw bg mx"><div class="ml mm mn"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*ay0UpuYeGQ8drvCP.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*ay0UpuYeGQ8drvCP.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*ay0UpuYeGQ8drvCP.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*ay0UpuYeGQ8drvCP.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*ay0UpuYeGQ8drvCP.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*ay0UpuYeGQ8drvCP.png 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ay0UpuYeGQ8drvCP.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*ay0UpuYeGQ8drvCP.png 640w, https://miro.medium.com/v2/resize:fit:720/0*ay0UpuYeGQ8drvCP.png 720w, https://miro.medium.com/v2/resize:fit:750/0*ay0UpuYeGQ8drvCP.png 750w, https://miro.medium.com/v2/resize:fit:786/0*ay0UpuYeGQ8drvCP.png 786w, https://miro.medium.com/v2/resize:fit:828/0*ay0UpuYeGQ8drvCP.png 828w, https://miro.medium.com/v2/resize:fit:1100/0*ay0UpuYeGQ8drvCP.png 1100w, https://miro.medium.com/v2/resize:fit:1400/0*ay0UpuYeGQ8drvCP.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bg ls my c" width="700" height="240" loading="eager" role="presentation"/></picture></div></div></figure><h2 id="18c6" class="mz na gt be nb nc nd dx ne nf ng dz nh ni nj nk nl nm nn no np nq nr ns nt nu bj">Self-hosting Llama 3 as your own ChatGPT replacement service using a 10 year old graphics card and open source components.</h2><p id="e0d0" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">Last week Meta<a class="af oq" href="https://ai.meta.com/blog/meta-llama-3/" rel="noopener ugc nofollow" target="_blank"> launched Llama 3</a>, the latest in their open source LLM series. Llama 3 is particularly interesting because the 8 billion parameter model, which is small enough to run on a laptop, <a class="af oq" href="https://news.ycombinator.com/item?id=40084699" rel="noopener ugc nofollow" target="_blank">performs as well as models 10x bigger than it</a>. The responses it provides are as good as GPT-4 for many use cases.</p><p id="db06" class="pw-post-body-paragraph nv nw gt nx b ny or oa ob oc os oe of ni ot oh oi nm ou ok ol nq ov on oo op gm bj">I finally decided that this was motivation enough to dig out my old Nvidia Titan X card from the loft and slot it into my home server so that I could stand up a ChatGPT clone on my home network. In this post I explain some of the pros and cons of self-hosting llama 3 and provide configuration and resources to help you do it too.</p><h1 id="66b7" class="ow na gt be nb ox oy oz ne pa pb pc nh pd pe pf pg ph pi pj pk pl pm pn po pp bj">How it works</h1><p id="dc0d" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">The model is served by <a class="af oq" href="https://ollama.com/" rel="noopener ugc nofollow" target="_blank">Ollama</a> which is a GPU-enabled open source service for running LLMs as a service. Ollama makes heavy use of llama.cpp, t <a class="af oq" href="https://brainsteam.co.uk/2023/09/30/turbopilot-obit/" rel="noopener ugc nofollow" target="_blank">he same tech that I used to build turbopilot</a> around 1 year ago. The frontend is powered by <a class="af oq" href="https://github.com/open-webui/open-webui" rel="noopener ugc nofollow" target="_blank">OpenWebUI</a> which provides a ChatGPT-like user experience for interacting with Ollama models.</p><p id="e117" class="pw-post-body-paragraph nv nw gt nx b ny or oa ob oc os oe of ni ot oh oi nm ou ok ol nq ov on oo op gm bj">I use <a class="af oq" href="https://docs.docker.com/compose/" rel="noopener ugc nofollow" target="_blank">docker compose</a> to run the two services and wire them together and I’ve got a Caddy web server set up to let in traffic from the outside world.</p><figure class="pr ps pt pu pv mt ml mm paragraph-image"><div role="button" tabindex="0" class="mu mv fi mw bg mx"><div class="ml mm pq"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*GTtrA2zL9llqiC5m.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*GTtrA2zL9llqiC5m.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*GTtrA2zL9llqiC5m.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*GTtrA2zL9llqiC5m.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*GTtrA2zL9llqiC5m.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*GTtrA2zL9llqiC5m.png 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GTtrA2zL9llqiC5m.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*GTtrA2zL9llqiC5m.png 640w, https://miro.medium.com/v2/resize:fit:720/0*GTtrA2zL9llqiC5m.png 720w, https://miro.medium.com/v2/resize:fit:750/0*GTtrA2zL9llqiC5m.png 750w, https://miro.medium.com/v2/resize:fit:786/0*GTtrA2zL9llqiC5m.png 786w, https://miro.medium.com/v2/resize:fit:828/0*GTtrA2zL9llqiC5m.png 828w, https://miro.medium.com/v2/resize:fit:1100/0*GTtrA2zL9llqiC5m.png 1100w, https://miro.medium.com/v2/resize:fit:1400/0*GTtrA2zL9llqiC5m.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bg ls my c" width="700" height="240" loading="lazy" role="presentation"/></picture></div></div></figure><h1 id="9351" class="ow na gt be nb ox oy oz ne pa pb pc nh pd pe pf pg ph pi pj pk pl pm pn po pp bj">Hardware</h1><p id="aab3" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">My setup is running on a cheap and cheerful AMD CPU and Motherboard package and a 10 year old Nvidia Titan X card (much better GPUS are available on Ebay for around £150. The RTX 3060 with 12GB VRAM would be a great choice). My server has 32GB RAM but this software combo uses a lot less than that. You could probably get away with 16GB and run it smoothly or possibly even 8GB at a push.</p><p id="8ce2" class="pw-post-body-paragraph nv nw gt nx b ny or oa ob oc os oe of ni ot oh oi nm ou ok ol nq ov on oo op gm bj">You could buy <a class="af oq" href="https://www.scan.co.uk/products/3xs-a520-home-bundle-amd-ryzen-5-5500-asus-tuf-a520-gaming-plus-wifi-16gb-ddr4-amd-wraith-stealth" rel="noopener ugc nofollow" target="_blank">this bundle</a> and a used RTX3060 on Ebay or a brand new one for around £250 and have a functional ChatGPT replacement in your house for less than £500.</p><h1 id="dacd" class="ow na gt be nb ox oy oz ne pa pb pc nh pd pe pf pg ph pi pj pk pl pm pn po pp bj">Pros and Cons of Llama 3</h1><p id="d3bb" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">Llama 3 8B truly is a huge step forward for open source alternatives to relying on APIS from OpenAI, Anthropic and their peers. I am still in the early stages of working with my self-hosted Llama 3 instance but so far I’m finding that it is just as capable as GPT-4 in many arenas.</p><h2 id="5e2a" class="mz na gt be nb nc nd dx ne nf ng dz nh ni nj nk nl nm nn no np nq nr ns nt nu bj">Pro: Price</h2><p id="680a" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">Self-hosting Llama 3 with Ollama and OpenWebUI is free-ish except for any initial investment you need to make for hardware and then electricity consumption. ChatGPT plus is currently $20/month but techies are likely also burning a similar amount in API calls too. I already had all the components for this build lying around the house but if I bought them 2nd hand it would take around 1 year for them to pay for themselves. That said, I could massively increase my API consumption through my self-hosted models since it’s effectively “free”.</p><h2 id="3ed8" class="mz na gt be nb nc nd dx ne nf ng dz nh ni nj nk nl nm nn no np nq nr ns nt nu bj">Pro: Privacy</h2><p id="b520" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">A huge advantage of this approach is that you’re not sending your data to an external company to be mined. The consumer version of ChatGPT that most people use is heavily data mined to improve OpenAI’s models and anything that you type in may end up in their corpus. Ollama runs entirely on your machine and never sends data back to any third party company.</p><h2 id="a405" class="mz na gt be nb nc nd dx ne nf ng dz nh ni nj nk nl nm nn no np nq nr ns nt nu bj">Pro: Energy Consumption and Carbon Footprint</h2><p id="320a" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">Another advantage is that since Llama 3:8B is small and it runs on a single GPU it uses a lot less energy to run than <a class="af oq" href="https://www.reddit.com/r/aipromptprogramming/comments/1212kmm/according_to_chatgpt_a_single_gpt_query_consumes/" rel="noopener ugc nofollow" target="_blank">an average query to ChatGPT</a>. My Titan X card consumes about 250 watts at max load but RTX 3060 cards only require 170 watts to run. Again, I had all the components lying around so I didn’t buy anything new to make this server and indeed it means I won’t be throwing away components that would otherwise become e-waste.</p><h2 id="173e" class="mz na gt be nb nc nd dx ne nf ng dz nh ni nj nk nl nm nn no np nq nr ns nt nu bj">Con: Speed on old hardware</h2><p id="a864" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">Self-hosting Llama 3 8B on a Titan X is a little slower than ChatGPT but is still perfectly serviceable. It would almost certainly be faster on RTX 3 and 4 series cards.</p><h2 id="4629" class="mz na gt be nb nc nd dx ne nf ng dz nh ni nj nk nl nm nn no np nq nr ns nt nu bj">Con: Multimodal Performance</h2><p id="6c94" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">The biggest missing feature for me is currently multi-modal support. I use GPT-4 to do handwriting recognition and transcription for me and current gen open source models aren’t quite up to this yet. However, given the superb quality of Llama 3, I have no doubt that a similarly brilliant open multi-modal model is just around the corner.</p><h2 id="6613" class="mz na gt be nb nc nd dx ne nf ng dz nh ni nj nk nl nm nn no np nq nr ns nt nu bj">Con: Training Transparency</h2><p id="cc45" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">Although Llama 3’s weights are free to download, the training corpus content is unknown. The model was built by Meta and thus is likely to have been trained on a large amount of user generated content and copyrighted content. Hosted third party models like ChatGPT are likely to be equally problematic in this regard but.</p><h1 id="24fe" class="ow na gt be nb ox oy oz ne pa pb pc nh pd pe pf pg ph pi pj pk pl pm pn po pp bj">Setting up Llama 3 with Ollama and OpenWebUI</h1><p id="1038" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">Once you have the hardware assembled and the operating system installed, the fiddliest part is configuring Docker and Nvidia correctly.</p><h2 id="993b" class="mz na gt be nb nc nd dx ne nf ng dz nh ni nj nk nl nm nn no np nq nr ns nt nu bj">Ubuntu</h2><p id="e16c" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">If you’re on Ubuntu, you’ll need to install docker first. I recommend using <a class="af oq" href="https://docs.docker.com/engine/install/ubuntu/" rel="noopener ugc nofollow" target="_blank">the guide from Docker themselves</a> which installs the latest and greatest packages. Then follow<a class="af oq" href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html#installing-with-apt" rel="noopener ugc nofollow" target="_blank"> this guide</a> to install the nvidia runtime. Then you will want to verify that it’s all set up using the checking step below.</p><h2 id="ce01" class="mz na gt be nb nc nd dx ne nf ng dz nh ni nj nk nl nm nn no np nq nr ns nt nu bj">Unraid</h2><p id="039b" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">I actually run Unraid on my home server rather than Ubuntu. To get things running there, simply install the <a class="af oq" href="https://forums.unraid.net/topic/98978-plugin-nvidia-driver/" rel="noopener ugc nofollow" target="_blank">unraid nvidia plugin</a> through the community apps page and make sure to stop and start docker before trying out the step below.</p><h2 id="284b" class="mz na gt be nb nc nd dx ne nf ng dz nh ni nj nk nl nm nn no np nq nr ns nt nu bj">Checking the Docker and Nvidia Setup (All OSes)</h2><p id="93bf" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">To make sure that Docker and Nvidia are installed properly and able to talk to each other you can run:</p><pre class="pr ps pt pu pv pw px py bo pz ba bj"><span id="61ff" class="qa na gt px b bf qb qc l qd qe">docker run --rm --runtime=nvidia --gpus all ubuntu nvidia-smi</span></pre><p id="55a1" class="pw-post-body-paragraph nv nw gt nx b ny or oa ob oc os oe of ni ot oh oi nm ou ok ol nq ov on oo op gm bj">This runs the nvidia-smi status utility which should show what your GPU is currently doing but crucially it’s doing so from inside docker which means that nvidia’s container runtime is all set up to pass through the nvidia drivers to whatever you’re running inside your container. You should see something like this:</p><figure class="pr ps pt pu pv mt ml mm paragraph-image"><div role="button" tabindex="0" class="mu mv fi mw bg mx"><div class="ml mm qf"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*tdxFDN2ARW3I76vJ.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*tdxFDN2ARW3I76vJ.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*tdxFDN2ARW3I76vJ.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*tdxFDN2ARW3I76vJ.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*tdxFDN2ARW3I76vJ.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*tdxFDN2ARW3I76vJ.png 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tdxFDN2ARW3I76vJ.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*tdxFDN2ARW3I76vJ.png 640w, https://miro.medium.com/v2/resize:fit:720/0*tdxFDN2ARW3I76vJ.png 720w, https://miro.medium.com/v2/resize:fit:750/0*tdxFDN2ARW3I76vJ.png 750w, https://miro.medium.com/v2/resize:fit:786/0*tdxFDN2ARW3I76vJ.png 786w, https://miro.medium.com/v2/resize:fit:828/0*tdxFDN2ARW3I76vJ.png 828w, https://miro.medium.com/v2/resize:fit:1100/0*tdxFDN2ARW3I76vJ.png 1100w, https://miro.medium.com/v2/resize:fit:1400/0*tdxFDN2ARW3I76vJ.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bg ls my c" width="700" height="304" loading="lazy" role="presentation"/></picture></div></div></figure><h1 id="7fa5" class="ow na gt be nb ox oy oz ne pa pb pc nh pd pe pf pg ph pi pj pk pl pm pn po pp bj">Installing Ollama</h1><p id="6c62" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">Create a new directory and a new empty text file called <code class="cw qg qh qi px b">docker-compose.yml</code>. Into that file paste the following:</p><pre class="pr ps pt pu pv pw px py bo pz ba bj"><span id="d8ab" class="qa na gt px b bf qb qc l qd qe">version: &quot;3.0&quot;<br/>services:<br/><br/>  ui:<br/>    image: ghcr.io/open-webui/open-webui:main<br/>    restart: always<br/>    ports:<br/>      - 3011:8080<br/>    volumes:<br/>      - ./open-webui:/app/backend/data<br/>    environment:<br/>      # - &quot;ENABLE_SIGNUP=false&quot;<br/>      - &quot;OLLAMA_BASE_URL=http://ollama:11434&quot;<br/><br/><br/>  ollama:<br/>    image: ollama/ollama<br/>    restart: always<br/>    ports:<br/>      - 11434:11434<br/>    volumes:<br/>      - ./ollama:/root/.ollama<br/>    deploy:<br/>      resources:<br/>        reservations:<br/>          devices:<br/>            - driver: nvidia<br/>              count: 1<br/>              capabilities: [gpu]</span></pre><p id="11f3" class="pw-post-body-paragraph nv nw gt nx b ny or oa ob oc os oe of ni ot oh oi nm ou ok ol nq ov on oo op gm bj">We define the two services and we provide both with volume mounts to enable them to persist data to disk (such as models you downloaded and your chat history).</p><p id="b561" class="pw-post-body-paragraph nv nw gt nx b ny or oa ob oc os oe of ni ot oh oi nm ou ok ol nq ov on oo op gm bj">For now we leave ENABLE_SIGNUP commented out so that you can create an account in the web ui but later we can come back and turn that off so that internet denizens can’t sign up to use your chat.</p><h1 id="c9d1" class="ow na gt be nb ox oy oz ne pa pb pc nh pd pe pf pg ph pi pj pk pl pm pn po pp bj">Turn on Ollama</h1><p id="1b83" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">First we will turn on ollama and test it. Start by running <code class="cw qg qh qi px b">docker-compose up -d ollama</code>. (Depending on which version of docker you are running you might need to run <code class="cw qg qh qi px b">docker compose</code> rather than <code class="cw qg qh qi px b">docker-compose</code>). This will start just the ollama model server. We can interact with the model server by running an interactive chat session and downloading the model:</p><pre class="pr ps pt pu pv pw px py bo pz ba bj"><span id="a615" class="qa na gt px b bf qb qc l qd qe">docker-compose exec ollama ollama run llama3:8b</span></pre><p id="50bc" class="pw-post-body-paragraph nv nw gt nx b ny or oa ob oc os oe of ni ot oh oi nm ou ok ol nq ov on oo op gm bj">In this command the first <code class="cw qg qh qi px b">ollama</code> refers to the container and <code class="cw qg qh qi px b">ollama run llama3:8b</code> is the command that will be executed inside the container. If all goes well you will see the server burst into action and download the llama3 model if this is the first time you&#x27;ve run it. You&#x27;ll then be presented with an interactive prompt where you&#x27;ll be able to chat to the model.</p><figure class="pr ps pt pu pv mt ml mm paragraph-image"><div role="button" tabindex="0" class="mu mv fi mw bg mx"><div class="ml mm qj"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*80wzLHdumNtpULYS.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*80wzLHdumNtpULYS.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*80wzLHdumNtpULYS.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*80wzLHdumNtpULYS.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*80wzLHdumNtpULYS.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*80wzLHdumNtpULYS.png 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*80wzLHdumNtpULYS.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*80wzLHdumNtpULYS.png 640w, https://miro.medium.com/v2/resize:fit:720/0*80wzLHdumNtpULYS.png 720w, https://miro.medium.com/v2/resize:fit:750/0*80wzLHdumNtpULYS.png 750w, https://miro.medium.com/v2/resize:fit:786/0*80wzLHdumNtpULYS.png 786w, https://miro.medium.com/v2/resize:fit:828/0*80wzLHdumNtpULYS.png 828w, https://miro.medium.com/v2/resize:fit:1100/0*80wzLHdumNtpULYS.png 1100w, https://miro.medium.com/v2/resize:fit:1400/0*80wzLHdumNtpULYS.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bg ls my c" width="700" height="81" loading="lazy" role="presentation"/></picture></div></div></figure><p id="f30a" class="pw-post-body-paragraph nv nw gt nx b ny or oa ob oc os oe of ni ot oh oi nm ou ok ol nq ov on oo op gm bj">You can press CTRL+D to quit and move on to the next step.</p><h1 id="5e06" class="ow na gt be nb ox oy oz ne pa pb pc nh pd pe pf pg ph pi pj pk pl pm pn po pp bj">Turn on the Web UI</h1><p id="da93" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">Now we will start up the web ui. Run <code class="cw qg qh qi px b">docker-compose up -d ui</code>. Now open up your browser and go to http://localhost:3011/ to see the web ui. You will need to register for an account and log in. After which you will be able to interact with the model like so:</p><figure class="pr ps pt pu pv mt ml mm paragraph-image"><div role="button" tabindex="0" class="mu mv fi mw bg mx"><div class="ml mm pq"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*OHRFxjRQaedpHqXK.png 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*OHRFxjRQaedpHqXK.png 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*OHRFxjRQaedpHqXK.png 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*OHRFxjRQaedpHqXK.png 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*OHRFxjRQaedpHqXK.png 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*OHRFxjRQaedpHqXK.png 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OHRFxjRQaedpHqXK.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*OHRFxjRQaedpHqXK.png 640w, https://miro.medium.com/v2/resize:fit:720/0*OHRFxjRQaedpHqXK.png 720w, https://miro.medium.com/v2/resize:fit:750/0*OHRFxjRQaedpHqXK.png 750w, https://miro.medium.com/v2/resize:fit:786/0*OHRFxjRQaedpHqXK.png 786w, https://miro.medium.com/v2/resize:fit:828/0*OHRFxjRQaedpHqXK.png 828w, https://miro.medium.com/v2/resize:fit:1100/0*OHRFxjRQaedpHqXK.png 1100w, https://miro.medium.com/v2/resize:fit:1400/0*OHRFxjRQaedpHqXK.png 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bg ls my c" width="700" height="387" loading="lazy" role="presentation"/></picture></div></div></figure><h1 id="f424" class="ow na gt be nb ox oy oz ne pa pb pc nh pd pe pf pg ph pi pj pk pl pm pn po pp bj">(Optional) Configure Outside Access</h1><p id="1476" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">If you want to be able to chat to your models from the outside world you might want to stand up a reverse proxy to your server. If you’re new to self hosting and you’re not sure about how to do this, a safer option is probably to use <a class="af oq" href="https://tailscale.com/" rel="noopener ugc nofollow" target="_blank">Tailscale</a> to build a VPN which you can use to securely connect to your home network without risking exposing your systems to the public and/or hackers.</p><h1 id="45b7" class="ow na gt be nb ox oy oz ne pa pb pc nh pd pe pf pg ph pi pj pk pl pm pn po pp bj">Conclusion</h1><p id="f903" class="pw-post-body-paragraph nv nw gt nx b ny nz oa ob oc od oe of ni og oh oi nm oj ok ol nq om on oo op gm bj">Llama 3 is a tremendously powerful model that is useful for a whole bunch of use cases including summarisation, creative brainstorming, code copiloting and more. The quality of the responses are in line with GPT-4 and it runs on much older, smaller hardware. Self-hosting Llama 3 won’t be for everyone and it’s quite technically involved. However, for AI geeks like me, running my own ChatGPT clone at home for next-to-nothing was too good an experiment to miss out on.</p></div></div></div><div class="ab ca qk ql qm qn" role="separator"><span class="qo bx bl qp qq qr"></span><span class="qo bx bl qp qq qr"></span><span class="qo bx bl qp qq"></span></div><div class="gm gn go gp gq"><div class="ab ca"><div class="ch bg fy fz ga gb"><p id="25a2" class="pw-post-body-paragraph nv nw gt nx b ny or oa ob oc os oe of ni ot oh oi nm ou ok ol nq ov on oo op gm bj"><em class="qs">Originally published at </em><a class="af oq" href="https://brainsteam.co.uk/2024/04/20/self-hosting-llama-3-on-a-home-server/" rel="noopener ugc nofollow" target="_blank"><em class="qs">https://brainsteam.co.uk</em></a><em class="qs"> on April 20, 2024.</em></p></div></div></div></div></section></div></div></article><div class="ab ca"><div class="ch bg fy fz ga gb"></div></div></div><div class="ab ca"><div class="ch bg fy fz ga gb"><div class="qt qu ab iz"><div class="qv ab"><a class="qw ax am ao" href="https://medium.com/tag/ai?source=post_page-----00feeeba8174---------------ai-----------------" rel="noopener follow"><div class="qx fi cw qy gd qz ra be b bf z bj rb">AI</div></a></div><div class="qv ab"><a class="qw ax am ao" href="https://medium.com/tag/llm?source=post_page-----00feeeba8174---------------llm-----------------" rel="noopener follow"><div class="qx fi cw qy gd qz ra be b bf z bj rb">Llm</div></a></div><div class="qv ab"><a class="qw ax am ao" href="https://medium.com/tag/self-hosted?source=post_page-----00feeeba8174---------------self_hosted-----------------" rel="noopener follow"><div class="qx fi cw qy gd qz ra be b bf z bj rb">Self Hosted</div></a></div><div class="qv ab"><a class="qw ax am ao" href="https://medium.com/tag/open-source?source=post_page-----00feeeba8174---------------open_source-----------------" rel="noopener follow"><div class="qx fi cw qy gd qz ra be b bf z bj rb">Open Source</div></a></div><div class="qv ab"><a class="qw ax am ao" href="https://medium.com/tag/chatgpt?source=post_page-----00feeeba8174---------------chatgpt-----------------" rel="noopener follow"><div class="qx fi cw qy gd qz ra be b bf z bj rb">ChatGPT</div></a></div></div></div></div><div class="l"></div><footer class="rc rd re rf rg rh ri rj rk ab q rl rm c"><div class="l ae"><div class="ab ca"><div class="ch bg fy fz ga gb"><div class="ab co rn"><div class="ab q ki"><div class="ro l"><span class="l rp rq rr e d"><div class="ab q ki kj"><div class="pw-multi-vote-icon fi kk kl km kn"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerClapButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fp%2F00feeeba8174&amp;operation=register&amp;redirect=https%3A%2F%2Fjamesravey.medium.com%2Fself-hosting-llama-3-on-a-home-server-00feeeba8174&amp;user=Dr+James+Ravenscroft&amp;userId=10d0686f671c&amp;source=-----00feeeba8174---------------------clap_footer-----------" rel="noopener follow"><div><div class="bl" aria-hidden="false"><div class="ko ao kp kq kr ks am kt ku kv kn"><svg width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.37.83L12 3.28l.63-2.45h-1.26zM13.92 3.95l1.52-2.1-1.18-.4-.34 2.5zM8.59 1.84l1.52 2.11-.34-2.5-1.18.4zM18.52 18.92a4.23 4.23 0 0 1-2.62 1.33l.41-.37c2.39-2.4 2.86-4.95 1.4-7.63l-.91-1.6-.8-1.67c-.25-.56-.19-.98.21-1.29a.7.7 0 0 1 .55-.13c.28.05.54.23.72.5l2.37 4.16c.97 1.62 1.14 4.23-1.33 6.7zm-11-.44l-4.15-4.15a.83.83 0 0 1 1.17-1.17l2.16 2.16a.37.37 0 0 0 .51-.52l-2.15-2.16L3.6 11.2a.83.83 0 0 1 1.17-1.17l3.43 3.44a.36.36 0 0 0 .52 0 .36.36 0 0 0 0-.52L5.29 9.51l-.97-.97a.83.83 0 0 1 0-1.16.84.84 0 0 1 1.17 0l.97.97 3.44 3.43a.36.36 0 0 0 .51 0 .37.37 0 0 0 0-.52L6.98 7.83a.82.82 0 0 1-.18-.9.82.82 0 0 1 .76-.51c.22 0 .43.09.58.24l5.8 5.79a.37.37 0 0 0 .58-.42L13.4 9.67c-.26-.56-.2-.98.2-1.29a.7.7 0 0 1 .55-.13c.28.05.55.23.73.5l2.2 3.86c1.3 2.38.87 4.59-1.29 6.75a4.65 4.65 0 0 1-4.19 1.37 7.73 7.73 0 0 1-4.07-2.25zm3.23-12.5l2.12 2.11c-.41.5-.47 1.17-.13 1.9l.22.46-3.52-3.53a.81.81 0 0 1-.1-.36c0-.23.09-.43.24-.59a.85.85 0 0 1 1.17 0zm7.36 1.7a1.86 1.86 0 0 0-1.23-.84 1.44 1.44 0 0 0-1.12.27c-.3.24-.5.55-.58.89-.25-.25-.57-.4-.91-.47-.28-.04-.56 0-.82.1l-2.18-2.18a1.56 1.56 0 0 0-2.2 0c-.2.2-.33.44-.4.7a1.56 1.56 0 0 0-2.63.75 1.6 1.6 0 0 0-2.23-.04 1.56 1.56 0 0 0 0 2.2c-.24.1-.5.24-.72.45a1.56 1.56 0 0 0 0 2.2l.52.52a1.56 1.56 0 0 0-.75 2.61L7 19a8.46 8.46 0 0 0 4.48 2.45 5.18 5.18 0 0 0 3.36-.5 4.89 4.89 0 0 0 4.2-1.51c2.75-2.77 2.54-5.74 1.43-7.59L18.1 7.68z"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l kw kx ky kz la lb lc"><p class="be b du z dt"><span class="ld">--</span></p></div></div></span><span class="l h g f rs rt"><div class="ab q ki kj"><div class="pw-multi-vote-icon fi kk kl km kn"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerClapButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fp%2F00feeeba8174&amp;operation=register&amp;redirect=https%3A%2F%2Fjamesravey.medium.com%2Fself-hosting-llama-3-on-a-home-server-00feeeba8174&amp;user=Dr+James+Ravenscroft&amp;userId=10d0686f671c&amp;source=-----00feeeba8174---------------------clap_footer-----------" rel="noopener follow"><div><div class="bl" aria-hidden="false"><div class="ko ao kp kq kr ks am kt ku kv kn"><svg width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.37.83L12 3.28l.63-2.45h-1.26zM13.92 3.95l1.52-2.1-1.18-.4-.34 2.5zM8.59 1.84l1.52 2.11-.34-2.5-1.18.4zM18.52 18.92a4.23 4.23 0 0 1-2.62 1.33l.41-.37c2.39-2.4 2.86-4.95 1.4-7.63l-.91-1.6-.8-1.67c-.25-.56-.19-.98.21-1.29a.7.7 0 0 1 .55-.13c.28.05.54.23.72.5l2.37 4.16c.97 1.62 1.14 4.23-1.33 6.7zm-11-.44l-4.15-4.15a.83.83 0 0 1 1.17-1.17l2.16 2.16a.37.37 0 0 0 .51-.52l-2.15-2.16L3.6 11.2a.83.83 0 0 1 1.17-1.17l3.43 3.44a.36.36 0 0 0 .52 0 .36.36 0 0 0 0-.52L5.29 9.51l-.97-.97a.83.83 0 0 1 0-1.16.84.84 0 0 1 1.17 0l.97.97 3.44 3.43a.36.36 0 0 0 .51 0 .37.37 0 0 0 0-.52L6.98 7.83a.82.82 0 0 1-.18-.9.82.82 0 0 1 .76-.51c.22 0 .43.09.58.24l5.8 5.79a.37.37 0 0 0 .58-.42L13.4 9.67c-.26-.56-.2-.98.2-1.29a.7.7 0 0 1 .55-.13c.28.05.55.23.73.5l2.2 3.86c1.3 2.38.87 4.59-1.29 6.75a4.65 4.65 0 0 1-4.19 1.37 7.73 7.73 0 0 1-4.07-2.25zm3.23-12.5l2.12 2.11c-.41.5-.47 1.17-.13 1.9l.22.46-3.52-3.53a.81.81 0 0 1-.1-.36c0-.23.09-.43.24-.59a.85.85 0 0 1 1.17 0zm7.36 1.7a1.86 1.86 0 0 0-1.23-.84 1.44 1.44 0 0 0-1.12.27c-.3.24-.5.55-.58.89-.25-.25-.57-.4-.91-.47-.28-.04-.56 0-.82.1l-2.18-2.18a1.56 1.56 0 0 0-2.2 0c-.2.2-.33.44-.4.7a1.56 1.56 0 0 0-2.63.75 1.6 1.6 0 0 0-2.23-.04 1.56 1.56 0 0 0 0 2.2c-.24.1-.5.24-.72.45a1.56 1.56 0 0 0 0 2.2l.52.52a1.56 1.56 0 0 0-.75 2.61L7 19a8.46 8.46 0 0 0 4.48 2.45 5.18 5.18 0 0 0 3.36-.5 4.89 4.89 0 0 0 4.2-1.51c2.75-2.77 2.54-5.74 1.43-7.59L18.1 7.68z"></path></svg></div></div></div></a></span></div><div class="pw-multi-vote-count l kw kx ky kz la lb lc"><p class="be b du z dt"><span class="ld">--</span></p></div></div></span></div><div class="bp ab"><div><div class="bl" aria-hidden="false"><button class="ao ko lg lh ab q fj li lj" aria-label="responses"><svg width="24" height="24" viewBox="0 0 24 24" class="lf"><path d="M18 16.8a7.14 7.14 0 0 0 2.24-5.32c0-4.12-3.53-7.48-8.05-7.48C7.67 4 4 7.36 4 11.48c0 4.13 3.67 7.48 8.2 7.48a8.9 8.9 0 0 0 2.38-.32c.23.2.48.39.75.56 1.06.69 2.2 1.04 3.4 1.04.22 0 .4-.11.48-.29a.5.5 0 0 0-.04-.52 6.4 6.4 0 0 1-1.16-2.65v.02zm-3.12 1.06l-.06-.22-.32.1a8 8 0 0 1-2.3.33c-4.03 0-7.3-2.96-7.3-6.59S8.17 4.9 12.2 4.9c4 0 7.1 2.96 7.1 6.6 0 1.8-.6 3.47-2.02 4.72l-.2.16v.26l.02.3a6.74 6.74 0 0 0 .88 2.4 5.27 5.27 0 0 1-2.17-.86c-.28-.17-.72-.38-.94-.59l.01-.02z"></path></svg><p class="be b bf z dt"><span class="pw-responses-count le lf">2</span></p></button></div></div></div></div><div class="ab q"><div class="qr l iw"><div><div class="bl" aria-hidden="false"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" data-testid="footerBookmarkButton" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F00feeeba8174&amp;operation=register&amp;redirect=https%3A%2F%2Fjamesravey.medium.com%2Fself-hosting-llama-3-on-a-home-server-00feeeba8174&amp;source=--------------------------bookmark_footer-----------" rel="noopener follow"><svg width="25" height="25" viewBox="0 0 25 25" fill="none" class="dt ll" aria-label="Add to list bookmark button"><path d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18V2.5zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4V7z" fill="currentColor"></path></svg></a></span></div></div></div><div class="qr l iw"><div class="bl" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bl" aria-hidden="false"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="footerSocialShareButton" class="af fj ah ai aj ak al lt an ao ap ew lu lv lj lw"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.22 4.93a.42.42 0 0 1-.12.13h.01a.45.45 0 0 1-.29.08.52.52 0 0 1-.3-.13L12.5 3v7.07a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5V3.02l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.8a.42.42 0 0 1 .07.5zm-.1.14zm.88 2h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11a2 2 0 0 1-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.14c.1.1.15.22.15.35a.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9V8.96c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1z" fill="currentColor"></path></svg></button></div></div></div></div></div></div></div></div></div></footer><div class="ru rv rw rx ry l bw"><div class="ab ca"><div class="ch bg fy fz ga gb"><div class="ck ab rz co"><div class="ab ie"><a rel="noopener follow" href="/?source=post_page-----00feeeba8174--------------------------------"><div class="l sa sb bx sc ii"><div class="l fi"><img alt="Dr James Ravenscroft" class="l fc bx sd se cw" src="https://miro.medium.com/v2/resize:fill:144:144/1*L5svwtMTbzdaIqtP0pWwWQ.jpeg" width="72" height="72" loading="lazy"/><div class="ij bx l sd se fr n ik fs"></div></div></div></a></div><div class="j i d"><div class="ab"><span><button class="be b bf z eo qx ep eq er es et eu ev ew ex ey ez sf fa fb fc bl fd fe">Follow</button></span><div class="ds l"><div><div><div class="bl" aria-hidden="false"><div class="l"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fa70d39c66fc0&amp;operation=register&amp;redirect=https%3A%2F%2Fjamesravey.medium.com%2Fself-hosting-llama-3-on-a-home-server-00feeeba8174&amp;newsletterV3=10d0686f671c&amp;newsletterV3Id=a70d39c66fc0&amp;user=Dr+James+Ravenscroft&amp;userId=10d0686f671c&amp;source=-----00feeeba8174---------------------subscribe_user-----------" rel="noopener follow"><button class="be b bf z sj am sk sl sm sn so sp sq sr ev ew ex ey ez fa fb fc bl fd fe" aria-label="Subscribe"><svg width="38" height="38" viewBox="0 0 38 38" fill="none" class="sg sh si"><rect x="26.25" y="9.25" width="0.5" height="6.5" rx="0.25"></rect><rect x="29.75" y="12.25" width="0.5" height="6.5" rx="0.25" transform="rotate(90 29.75 12.25)"></rect><path d="M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5"></path><path d="M11.5 14.5L19 20l4-3"></path></svg></button></a></span></div></div></div></div></div></div></div></div><div class="ab cm co"><div class="l"><div class="ab q"><a class="af ag ah ai aj ak al am an ao ap aq ar as at ab q" rel="noopener follow" href="/?source=post_page-----00feeeba8174--------------------------------"><h2 class="pw-author-name be ss st su sv bj"><span class="gm">Written by <!-- -->Dr James Ravenscroft</span></h2></a></div><div class="qv ab"><div class="l iw"><span class="pw-follower-count be b bf z bj"><a class="af ag ah ai aj ak al am an ao ap aq ar ip" rel="noopener follow" href="/followers?source=post_page-----00feeeba8174--------------------------------">173 Followers</a></span></div></div><div class="sw l"><p class="be b bf z bj"><span class="gm">Ml and NLP Geek, CTO at Filament. Saxophonist, foodie and explorer. I was born in Bermuda and I Live in the UK</span></p></div></div><div class="h k"><div class="ab"><span><button class="be b bf z eo qx ep eq er es et eu ev ew ex ey ez sf fa fb fc bl fd fe">Follow</button></span><div class="ds l"><div><div><div class="bl" aria-hidden="false"><div class="l"><span><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2Fa70d39c66fc0&amp;operation=register&amp;redirect=https%3A%2F%2Fjamesravey.medium.com%2Fself-hosting-llama-3-on-a-home-server-00feeeba8174&amp;newsletterV3=10d0686f671c&amp;newsletterV3Id=a70d39c66fc0&amp;user=Dr+James+Ravenscroft&amp;userId=10d0686f671c&amp;source=-----00feeeba8174---------------------subscribe_user-----------" rel="noopener follow"><button class="be b bf z sj am sk sl sm sn so sp sq sr ev ew ex ey ez fa fb fc bl fd fe" aria-label="Subscribe"><svg width="38" height="38" viewBox="0 0 38 38" fill="none" class="sg sh si"><rect x="26.25" y="9.25" width="0.5" height="6.5" rx="0.25"></rect><rect x="29.75" y="12.25" width="0.5" height="6.5" rx="0.25" transform="rotate(90 29.75 12.25)"></rect><path d="M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5"></path><path d="M11.5 14.5L19 20l4-3"></path></svg></button></a></span></div></div></div></div></div></div></div></div><div class="sx bg sy mo mp mq mr ms"></div></div></div><div class="h k j"><div class="sx bg sy sz"></div><div class="ab ca"><div class="ch bg fy fz ga gb"><div class="ta ab ki iz"><div class="tb tc l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://help.medium.com/hc/en-us?source=post_page-----00feeeba8174--------------------------------" rel="noopener follow"><p class="be b du z dt">Help</p></a></div><div class="tb tc l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.statuspage.io/?source=post_page-----00feeeba8174--------------------------------" rel="noopener follow"><p class="be b du z dt">Status</p></a></div><div class="tb tc l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/about?autoplay=1&amp;source=post_page-----00feeeba8174--------------------------------" rel="noopener follow"><p class="be b du z dt">About</p></a></div><div class="tb tc l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=post_page-----00feeeba8174--------------------------------" rel="noopener follow"><p class="be b du z dt">Careers</p></a></div><div class="tb tc l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://blog.medium.com/?source=post_page-----00feeeba8174--------------------------------" rel="noopener follow"><p class="be b du z dt">Blog</p></a></div><div class="tb tc l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----00feeeba8174--------------------------------" rel="noopener follow"><p class="be b du z dt">Privacy</p></a></div><div class="tb tc l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----00feeeba8174--------------------------------" rel="noopener follow"><p class="be b du z dt">Terms</p></a></div><div class="tb tc l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://speechify.com/medium?source=post_page-----00feeeba8174--------------------------------" rel="noopener follow"><p class="be b du z dt">Text to speech</p></a></div><div class="tb l"><a class="af ag ah ai aj ak al am an ao ap aq ar as at" href="https://medium.com/business?source=post_page-----00feeeba8174--------------------------------" rel="noopener follow"><p class="be b du z dt">Teams</p></a></div></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__="main-20240506-140655-5d709c6925"</script><script>window.__GRAPHQL_URI__ = "https://jamesravey.medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"algolia":{"queries":{}},"cache":{"experimentGroupSet":true,"reason":"","group":"enabled","tags":["group-edgeCachePosts","post-00feeeba8174","user-10d0686f671c"],"serverVariantState":"44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a","middlewareEnabled":true,"cacheStatus":"DYNAMIC","shouldUseCache":true,"vary":[],"loHomepageEnabled":false,"updatedPostPreviewsEnabled":false,"recommendedTagsQueryEnabled":true,"enableLohpFocused":"control"},"client":{"hydrated":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"isFirefox":false,"routingEntity":{"type":"USER","id":"10d0686f671c","explicit":true},"viewerIsBot":false},"debug":{"requestId":"d9e0794e-a40d-495d-b2cc-eaf150dd31f0","hybridDevServices":[],"originalSpanCarrier":{"ot-tracer-spanid":"7f5cc6e23c9aca20","ot-tracer-traceid":"2da98c8740329de0","ot-tracer-sampled":"true"}},"multiVote":{"clapsPerPost":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Fjamesravey.medium.com\u002Fself-hosting-llama-3-on-a-home-server-00feeeba8174","host":"jamesravey.medium.com","hostname":"jamesravey.medium.com","referrer":"","hasSetReferrer":false,"susiModal":{"step":null,"operation":"register"},"postRead":false,"queryString":"","currentHash":""},"config":{"nodeEnv":"production","version":"main-20240506-140655-5d709c6925","target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","recaptchaEnterpriseKeyId":"6Le-uGgpAAAAAPprRaokM8AKthQ9KNGdoxaGUvVp","datadog":{"applicationId":"6702d87d-a7e0-42fe-bbcb-95b469547ea0","clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","rumToken":"pubf9cc52896502b9413b68ba36fc0c7162","context":{"deployment":{"target":"production","tag":"main-20240506-140655-5d709c6925","commit":"5d709c6925c6b126670f3ab58c20ab273e6e70f9"}},"datacenter":"us"},"googleAnalyticsCode":"G-7JY7T788PK","googlePay":{"apiVersion":"2","apiVersionMinor":"0","merchantId":"BCR2DN6TV7EMTGBM","merchantName":"Medium","instanceMerchantId":"13685562959212738550"},"applePay":{"version":3},"signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumMastodonDomainName":"me.dm","mediumOwnedAndOperatedCollectionIds":["8a9336e5bb4","b7e45b22fec3","193b68bd4fba","8d6b8a439e32","54c98c43354d","3f6ecf56618","d944778ce714","92d2092dc598","ae2a65f35510","1285ba81cada","544c7006046e","fc8964313712","40187e704f1c","88d9857e584e","7b6769f2748b","bcc38c8f6edf","cef6983b292","cb8577c9149e","444d13b52878","713d7dbc99b0","ef8e90590e66","191186aaafa0","55760f21cdc5","9dc80918cc93","bdc4052bbdba","8ccfed20cbb2"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"topicToTagMappings":{"accessibility":"accessibility","addiction":"addiction","android-development":"android-development","art":"art","artificial-intelligence":"artificial-intelligence","astrology":"astrology","basic-income":"basic-income","beauty":"beauty","biotech":"biotech","blockchain":"blockchain","books":"books","business":"business","cannabis":"cannabis","cities":"cities","climate-change":"climate-change","comics":"comics","coronavirus":"coronavirus","creativity":"creativity","cryptocurrency":"cryptocurrency","culture":"culture","cybersecurity":"cybersecurity","data-science":"data-science","design":"design","digital-life":"digital-life","disability":"disability","economy":"economy","education":"education","equality":"equality","family":"family","feminism":"feminism","fiction":"fiction","film":"film","fitness":"fitness","food":"food","freelancing":"freelancing","future":"future","gadgets":"gadgets","gaming":"gaming","gun-control":"gun-control","health":"health","history":"history","humor":"humor","immigration":"immigration","ios-development":"ios-development","javascript":"javascript","justice":"justice","language":"language","leadership":"leadership","lgbtqia":"lgbtqia","lifestyle":"lifestyle","machine-learning":"machine-learning","makers":"makers","marketing":"marketing","math":"math","media":"media","mental-health":"mental-health","mindfulness":"mindfulness","money":"money","music":"music","neuroscience":"neuroscience","nonfiction":"nonfiction","outdoors":"outdoors","parenting":"parenting","pets":"pets","philosophy":"philosophy","photography":"photography","podcasts":"podcast","poetry":"poetry","politics":"politics","privacy":"privacy","product-management":"product-management","productivity":"productivity","programming":"programming","psychedelics":"psychedelics","psychology":"psychology","race":"race","relationships":"relationships","religion":"religion","remote-work":"remote-work","san-francisco":"san-francisco","science":"science","self":"self","self-driving-cars":"self-driving-cars","sexuality":"sexuality","social-media":"social-media","society":"society","software-engineering":"software-engineering","space":"space","spirituality":"spirituality","sports":"sports","startups":"startup","style":"style","technology":"technology","transportation":"transportation","travel":"travel","true-crime":"true-crime","tv":"tv","ux":"ux","venture-capital":"venture-capital","visual-design":"visual-design","work":"work","world":"world","writing":"writing"},"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"1*OMF3fSqH8t4xBJ9-6oZDZw.png","height":106,"width":545},"postLogo":{"imageId":"1*kFrc4tBFM_tCis-2Ic87WA.png","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","braintree":{"enabled":true,"merchantId":"m56f8fqpf7ngnrd4","merchantAccountId":{"usd":"AMediumCorporation_instant","eur":"amediumcorporation_EUR","cad":"amediumcorporation_CAD"},"publicKey":"ds2nn34bg2z7j5gd","braintreeEnvironment":"production","dashboardUrl":"https:\u002F\u002Fwww.braintreegateway.com\u002Fmerchants","gracePeriodDurationInDays":14,"mediumMembershipPlanId":{"monthly":"ce105f8c57a3","monthlyV2":"e8a5e126-792b-4ee6-8fba-d574c1b02fc5","monthlyWithTrial":"d5ee3dbe3db8","monthlyPremium":"fa741a9b47a2","yearly":"a40ad4a43185","yearlyV2":"3815d7d6-b8ca-4224-9b8c-182f9047866e","yearlyStaff":"d74fb811198a","yearlyWithTrial":"b3bc7350e5c7","yearlyPremium":"e21bd2c12166","monthlyOneYearFree":"e6c0637a-2bad-4171-ab4f-3c268633d83c","monthly25PercentOffFirstYear":"235ecc62-0cdb-49ae-9378-726cd21c504b","monthly20PercentOffFirstYear":"ba518864-9c13-4a99-91ca-411bf0cac756","monthly15PercentOffFirstYear":"594c029b-9f89-43d5-88f8-8173af4e070e","monthly10PercentOffFirstYear":"c6c7bc9a-40f2-4b51-8126-e28511d5bdb0","monthlyForStudents":"629ebe51-da7d-41fd-8293-34cd2f2030a8","yearlyOneYearFree":"78ba7be9-0d9f-4ece-aa3e-b54b826f2bf1","yearly25PercentOffFirstYear":"2dbb010d-bb8f-4eeb-ad5c-a08509f42d34","yearly20PercentOffFirstYear":"47565488-435b-47f8-bf93-40d5fbe0ebc8","yearly15PercentOffFirstYear":"8259809b-0881-47d9-acf7-6c001c7f720f","yearly10PercentOffFirstYear":"9dd694fb-96e1-472c-8d9e-3c868d5c1506","yearlyForStudents":"e29345ef-ab1c-4234-95c5-70e50fe6bc23","monthlyCad":"p52orjkaceei","yearlyCad":"h4q9g2up9ktt"},"braintreeDiscountId":{"oneMonthFree":"MONTHS_FREE_01","threeMonthsFree":"MONTHS_FREE_03","sixMonthsFree":"MONTHS_FREE_06","fiftyPercentOffOneYear":"FIFTY_PERCENT_OFF_ONE_YEAR"},"3DSecureVersion":"2","defaultCurrency":"usd","providerPlanIdCurrency":{"4ycw":"usd","rz3b":"usd","3kqm":"usd","jzw6":"usd","c2q2":"usd","nnsw":"usd","q8qw":"usd","d9y6":"usd","fx7w":"cad","nwf2":"cad"}},"paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","paypal":{"host":"https:\u002F\u002Fapi.paypal.com:443","clientMode":"production","serverMode":"live","webhookId":"4G466076A0294510S","monthlyPlan":{"planId":"P-9WR0658853113943TMU5FDQA","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlan":{"planId":"P-7N8963881P8875835MU5JOPQ","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oneYearGift":{"name":"Medium Membership (1 Year, Digital Gift Code)","description":"Unlimited access to the best and brightest stories on Medium. Gift codes can be redeemed at medium.com\u002Fredeem.","price":"50.00","currency":"USD","sku":"membership-gift-1-yr"},"oldMonthlyPlan":{"planId":"P-96U02458LM656772MJZUVH2Y","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlan":{"planId":"P-59P80963JF186412JJZU3SMI","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"monthlyPlanWithTrial":{"planId":"P-66C21969LR178604GJPVKUKY","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlanWithTrial":{"planId":"P-6XW32684EX226940VKCT2MFA","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oldMonthlyPlanNoSetupFee":{"planId":"P-4N046520HR188054PCJC7LJI","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlanNoSetupFee":{"planId":"P-7A4913502Y5181304CJEJMXQ","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"sdkUrl":"https:\u002F\u002Fwww.paypal.com\u002Fsdk\u002Fjs"},"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","log":{"json":true,"level":"info"},"imageUploadMaxSizeMb":25,"staffPicks":{"title":"Staff Picks","catalogId":"c7bc6e1ee00f"}},"session":{"xsrf":""}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","viewer":null,"isLoggedIn":false,"collectionByDomainOrSlug({\"domainOrSlug\":\"jamesravey.medium.com\"})":null,"postResult({\"id\":\"00feeeba8174\"})":{"__ref":"Post:00feeeba8174"},"userSocialLogins({\"userId\":\"8d1763725d5e\"})":{"__typename":"UserSocialLogins","userId":"8d1763725d5e","twitter":false,"facebook":false,"google":true,"redactedEmailAddress":"ha__@g__.com","isMember":false,"emailAddress":"","userAvatar":{"__typename":"UserAvatar","username":"harsanjitb1","name":"Harsanjit Bhullar","imageId":"0*gXskWTIH7MOjC3ul","mediumMemberAt":0}}},"LinkedAccounts:10d0686f671c":{"__typename":"LinkedAccounts","mastodon":null,"id":"10d0686f671c"},"UserViewerEdge:userId:10d0686f671c-viewerId:lo_c0b6d7223a97":{"__typename":"UserViewerEdge","id":"userId:10d0686f671c-viewerId:lo_c0b6d7223a97","isFollowing":false,"isUser":false,"isMuting":false},"NewsletterV3:a70d39c66fc0":{"__typename":"NewsletterV3","id":"a70d39c66fc0","type":"NEWSLETTER_TYPE_AUTHOR","slug":"10d0686f671c","name":"10d0686f671c","collection":null,"user":{"__ref":"User:10d0686f671c"}},"User:10d0686f671c":{"__typename":"User","id":"10d0686f671c","name":"Dr James Ravenscroft","username":"jamesravey","newsletterV3":{"__ref":"NewsletterV3:a70d39c66fc0"},"linkedAccounts":{"__ref":"LinkedAccounts:10d0686f671c"},"isSuspended":false,"imageId":"1*L5svwtMTbzdaIqtP0pWwWQ.jpeg","mediumMemberAt":1706950452000,"verifications":{"__typename":"VerifiedInfo","isBookAuthor":false},"socialStats":{"__typename":"SocialStats","followerCount":173},"customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"jamesravey.medium.com"}},"hasSubdomain":true,"bio":"Ml and NLP Geek, CTO at Filament. Saxophonist, foodie and explorer. I was born in Bermuda and I Live in the UK","isPartnerProgramEnrolled":true,"viewerEdge":{"__ref":"UserViewerEdge:userId:10d0686f671c-viewerId:lo_c0b6d7223a97"},"viewerIsUser":false,"postSubscribeMembershipUpsellShownAt":0,"allowNotes":true,"membership":{"__ref":"Membership:7fc432bebb65"},"twitterScreenName":"jamesravey"},"Paragraph:13c46153281b_0":{"__typename":"Paragraph","id":"13c46153281b_0","name":"dab8","type":"H3","href":null,"layout":null,"metadata":null,"text":"Self-hosting Llama 3 on a home server","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*ay0UpuYeGQ8drvCP.png":{"__typename":"ImageMetadata","id":"0*ay0UpuYeGQ8drvCP.png","originalHeight":358,"originalWidth":1048,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:13c46153281b_1":{"__typename":"Paragraph","id":"13c46153281b_1","name":"437d","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*ay0UpuYeGQ8drvCP.png"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_2":{"__typename":"Paragraph","id":"13c46153281b_2","name":"18c6","type":"H4","href":null,"layout":null,"metadata":null,"text":"Self-hosting Llama 3 as your own ChatGPT replacement service using a 10 year old graphics card and open source components.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_3":{"__typename":"Paragraph","id":"13c46153281b_3","name":"e0d0","type":"P","href":null,"layout":null,"metadata":null,"text":"Last week Meta launched Llama 3, the latest in their open source LLM series. Llama 3 is particularly interesting because the 8 billion parameter model, which is small enough to run on a laptop, performs as well as models 10x bigger than it. The responses it provides are as good as GPT-4 for many use cases.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":14,"end":31,"href":"https:\u002F\u002Fai.meta.com\u002Fblog\u002Fmeta-llama-3\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":194,"end":239,"href":"https:\u002F\u002Fnews.ycombinator.com\u002Fitem?id=40084699","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_4":{"__typename":"Paragraph","id":"13c46153281b_4","name":"db06","type":"P","href":null,"layout":null,"metadata":null,"text":"I finally decided that this was motivation enough to dig out my old Nvidia Titan X card from the loft and slot it into my home server so that I could stand up a ChatGPT clone on my home network. In this post I explain some of the pros and cons of self-hosting llama 3 and provide configuration and resources to help you do it too.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_5":{"__typename":"Paragraph","id":"13c46153281b_5","name":"66b7","type":"H3","href":null,"layout":null,"metadata":null,"text":"How it works","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_6":{"__typename":"Paragraph","id":"13c46153281b_6","name":"dc0d","type":"P","href":null,"layout":null,"metadata":null,"text":"The model is served by Ollama which is a GPU-enabled open source service for running LLMs as a service. Ollama makes heavy use of llama.cpp, t he same tech that I used to build turbopilot around 1 year ago. The frontend is powered by OpenWebUI which provides a ChatGPT-like user experience for interacting with Ollama models.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":23,"end":29,"href":"https:\u002F\u002Follama.com\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":143,"end":187,"href":"https:\u002F\u002Fbrainsteam.co.uk\u002F2023\u002F09\u002F30\u002Fturbopilot-obit\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":234,"end":243,"href":"https:\u002F\u002Fgithub.com\u002Fopen-webui\u002Fopen-webui","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_7":{"__typename":"Paragraph","id":"13c46153281b_7","name":"e117","type":"P","href":null,"layout":null,"metadata":null,"text":"I use docker compose to run the two services and wire them together and I’ve got a Caddy web server set up to let in traffic from the outside world.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":6,"end":20,"href":"https:\u002F\u002Fdocs.docker.com\u002Fcompose\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*GTtrA2zL9llqiC5m.png":{"__typename":"ImageMetadata","id":"0*GTtrA2zL9llqiC5m.png","originalHeight":350,"originalWidth":1024,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:13c46153281b_8":{"__typename":"Paragraph","id":"13c46153281b_8","name":"40e0","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*GTtrA2zL9llqiC5m.png"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_9":{"__typename":"Paragraph","id":"13c46153281b_9","name":"9351","type":"H3","href":null,"layout":null,"metadata":null,"text":"Hardware","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_10":{"__typename":"Paragraph","id":"13c46153281b_10","name":"aab3","type":"P","href":null,"layout":null,"metadata":null,"text":"My setup is running on a cheap and cheerful AMD CPU and Motherboard package and a 10 year old Nvidia Titan X card (much better GPUS are available on Ebay for around £150. The RTX 3060 with 12GB VRAM would be a great choice). My server has 32GB RAM but this software combo uses a lot less than that. You could probably get away with 16GB and run it smoothly or possibly even 8GB at a push.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_11":{"__typename":"Paragraph","id":"13c46153281b_11","name":"8ce2","type":"P","href":null,"layout":null,"metadata":null,"text":"You could buy this bundle and a used RTX3060 on Ebay or a brand new one for around £250 and have a functional ChatGPT replacement in your house for less than £500.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":14,"end":25,"href":"https:\u002F\u002Fwww.scan.co.uk\u002Fproducts\u002F3xs-a520-home-bundle-amd-ryzen-5-5500-asus-tuf-a520-gaming-plus-wifi-16gb-ddr4-amd-wraith-stealth","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_12":{"__typename":"Paragraph","id":"13c46153281b_12","name":"dacd","type":"H3","href":null,"layout":null,"metadata":null,"text":"Pros and Cons of Llama 3","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_13":{"__typename":"Paragraph","id":"13c46153281b_13","name":"d3bb","type":"P","href":null,"layout":null,"metadata":null,"text":"Llama 3 8B truly is a huge step forward for open source alternatives to relying on APIS from OpenAI, Anthropic and their peers. I am still in the early stages of working with my self-hosted Llama 3 instance but so far I’m finding that it is just as capable as GPT-4 in many arenas.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_14":{"__typename":"Paragraph","id":"13c46153281b_14","name":"5e2a","type":"H4","href":null,"layout":null,"metadata":null,"text":"Pro: Price","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_15":{"__typename":"Paragraph","id":"13c46153281b_15","name":"680a","type":"P","href":null,"layout":null,"metadata":null,"text":"Self-hosting Llama 3 with Ollama and OpenWebUI is free-ish except for any initial investment you need to make for hardware and then electricity consumption. ChatGPT plus is currently $20\u002Fmonth but techies are likely also burning a similar amount in API calls too. I already had all the components for this build lying around the house but if I bought them 2nd hand it would take around 1 year for them to pay for themselves. That said, I could massively increase my API consumption through my self-hosted models since it’s effectively “free”.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_16":{"__typename":"Paragraph","id":"13c46153281b_16","name":"3ed8","type":"H4","href":null,"layout":null,"metadata":null,"text":"Pro: Privacy","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_17":{"__typename":"Paragraph","id":"13c46153281b_17","name":"b520","type":"P","href":null,"layout":null,"metadata":null,"text":"A huge advantage of this approach is that you’re not sending your data to an external company to be mined. The consumer version of ChatGPT that most people use is heavily data mined to improve OpenAI’s models and anything that you type in may end up in their corpus. Ollama runs entirely on your machine and never sends data back to any third party company.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_18":{"__typename":"Paragraph","id":"13c46153281b_18","name":"a405","type":"H4","href":null,"layout":null,"metadata":null,"text":"Pro: Energy Consumption and Carbon Footprint","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_19":{"__typename":"Paragraph","id":"13c46153281b_19","name":"320a","type":"P","href":null,"layout":null,"metadata":null,"text":"Another advantage is that since Llama 3:8B is small and it runs on a single GPU it uses a lot less energy to run than an average query to ChatGPT. My Titan X card consumes about 250 watts at max load but RTX 3060 cards only require 170 watts to run. Again, I had all the components lying around so I didn’t buy anything new to make this server and indeed it means I won’t be throwing away components that would otherwise become e-waste.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":118,"end":145,"href":"https:\u002F\u002Fwww.reddit.com\u002Fr\u002Faipromptprogramming\u002Fcomments\u002F1212kmm\u002Faccording_to_chatgpt_a_single_gpt_query_consumes\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_20":{"__typename":"Paragraph","id":"13c46153281b_20","name":"173e","type":"H4","href":null,"layout":null,"metadata":null,"text":"Con: Speed on old hardware","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_21":{"__typename":"Paragraph","id":"13c46153281b_21","name":"a864","type":"P","href":null,"layout":null,"metadata":null,"text":"Self-hosting Llama 3 8B on a Titan X is a little slower than ChatGPT but is still perfectly serviceable. It would almost certainly be faster on RTX 3 and 4 series cards.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_22":{"__typename":"Paragraph","id":"13c46153281b_22","name":"4629","type":"H4","href":null,"layout":null,"metadata":null,"text":"Con: Multimodal Performance","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_23":{"__typename":"Paragraph","id":"13c46153281b_23","name":"6c94","type":"P","href":null,"layout":null,"metadata":null,"text":"The biggest missing feature for me is currently multi-modal support. I use GPT-4 to do handwriting recognition and transcription for me and current gen open source models aren’t quite up to this yet. However, given the superb quality of Llama 3, I have no doubt that a similarly brilliant open multi-modal model is just around the corner.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_24":{"__typename":"Paragraph","id":"13c46153281b_24","name":"6613","type":"H4","href":null,"layout":null,"metadata":null,"text":"Con: Training Transparency","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_25":{"__typename":"Paragraph","id":"13c46153281b_25","name":"cc45","type":"P","href":null,"layout":null,"metadata":null,"text":"Although Llama 3’s weights are free to download, the training corpus content is unknown. The model was built by Meta and thus is likely to have been trained on a large amount of user generated content and copyrighted content. Hosted third party models like ChatGPT are likely to be equally problematic in this regard but.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_26":{"__typename":"Paragraph","id":"13c46153281b_26","name":"24fe","type":"H3","href":null,"layout":null,"metadata":null,"text":"Setting up Llama 3 with Ollama and OpenWebUI","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_27":{"__typename":"Paragraph","id":"13c46153281b_27","name":"1038","type":"P","href":null,"layout":null,"metadata":null,"text":"Once you have the hardware assembled and the operating system installed, the fiddliest part is configuring Docker and Nvidia correctly.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_28":{"__typename":"Paragraph","id":"13c46153281b_28","name":"993b","type":"H4","href":null,"layout":null,"metadata":null,"text":"Ubuntu","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_29":{"__typename":"Paragraph","id":"13c46153281b_29","name":"e16c","type":"P","href":null,"layout":null,"metadata":null,"text":"If you’re on Ubuntu, you’ll need to install docker first. I recommend using the guide from Docker themselves which installs the latest and greatest packages. Then follow this guide to install the nvidia runtime. Then you will want to verify that it’s all set up using the checking step below.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":76,"end":108,"href":"https:\u002F\u002Fdocs.docker.com\u002Fengine\u002Finstall\u002Fubuntu\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":169,"end":180,"href":"https:\u002F\u002Fdocs.nvidia.com\u002Fdatacenter\u002Fcloud-native\u002Fcontainer-toolkit\u002Flatest\u002Finstall-guide.html#installing-with-apt","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_30":{"__typename":"Paragraph","id":"13c46153281b_30","name":"ce01","type":"H4","href":null,"layout":null,"metadata":null,"text":"Unraid","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_31":{"__typename":"Paragraph","id":"13c46153281b_31","name":"039b","type":"P","href":null,"layout":null,"metadata":null,"text":"I actually run Unraid on my home server rather than Ubuntu. To get things running there, simply install the unraid nvidia plugin through the community apps page and make sure to stop and start docker before trying out the step below.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":108,"end":128,"href":"https:\u002F\u002Fforums.unraid.net\u002Ftopic\u002F98978-plugin-nvidia-driver\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_32":{"__typename":"Paragraph","id":"13c46153281b_32","name":"284b","type":"H4","href":null,"layout":null,"metadata":null,"text":"Checking the Docker and Nvidia Setup (All OSes)","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_33":{"__typename":"Paragraph","id":"13c46153281b_33","name":"93bf","type":"P","href":null,"layout":null,"metadata":null,"text":"To make sure that Docker and Nvidia are installed properly and able to talk to each other you can run:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_34":{"__typename":"Paragraph","id":"13c46153281b_34","name":"61ff","type":"PRE","href":null,"layout":null,"metadata":null,"text":"docker run --rm --runtime=nvidia --gpus all ubuntu nvidia-smi","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"bash"},"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_35":{"__typename":"Paragraph","id":"13c46153281b_35","name":"55a1","type":"P","href":null,"layout":null,"metadata":null,"text":"This runs the nvidia-smi status utility which should show what your GPU is currently doing but crucially it’s doing so from inside docker which means that nvidia’s container runtime is all set up to pass through the nvidia drivers to whatever you’re running inside your container. You should see something like this:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*tdxFDN2ARW3I76vJ.png":{"__typename":"ImageMetadata","id":"0*tdxFDN2ARW3I76vJ.png","originalHeight":385,"originalWidth":889,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:13c46153281b_36":{"__typename":"Paragraph","id":"13c46153281b_36","name":"bed4","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*tdxFDN2ARW3I76vJ.png"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_37":{"__typename":"Paragraph","id":"13c46153281b_37","name":"7fa5","type":"H3","href":null,"layout":null,"metadata":null,"text":"Installing Ollama","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_38":{"__typename":"Paragraph","id":"13c46153281b_38","name":"6c62","type":"P","href":null,"layout":null,"metadata":null,"text":"Create a new directory and a new empty text file called docker-compose.yml. Into that file paste the following:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":56,"end":74,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_39":{"__typename":"Paragraph","id":"13c46153281b_39","name":"d8ab","type":"PRE","href":null,"layout":null,"metadata":null,"text":"version: \"3.0\"\nservices:\n\n  ui:\n    image: ghcr.io\u002Fopen-webui\u002Fopen-webui:main\n    restart: always\n    ports:\n      - 3011:8080\n    volumes:\n      - .\u002Fopen-webui:\u002Fapp\u002Fbackend\u002Fdata\n    environment:\n      # - \"ENABLE_SIGNUP=false\"\n      - \"OLLAMA_BASE_URL=http:\u002F\u002Follama:11434\"\n\n\n  ollama:\n    image: ollama\u002Follama\n    restart: always\n    ports:\n      - 11434:11434\n    volumes:\n      - .\u002Follama:\u002Froot\u002F.ollama\n    deploy:\n      resources:\n        reservations:\n          devices:\n            - driver: nvidia\n              count: 1\n              capabilities: [gpu]","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"yaml"},"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_40":{"__typename":"Paragraph","id":"13c46153281b_40","name":"11f3","type":"P","href":null,"layout":null,"metadata":null,"text":"We define the two services and we provide both with volume mounts to enable them to persist data to disk (such as models you downloaded and your chat history).","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_41":{"__typename":"Paragraph","id":"13c46153281b_41","name":"b561","type":"P","href":null,"layout":null,"metadata":null,"text":"For now we leave ENABLE_SIGNUP commented out so that you can create an account in the web ui but later we can come back and turn that off so that internet denizens can’t sign up to use your chat.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_42":{"__typename":"Paragraph","id":"13c46153281b_42","name":"c9d1","type":"H3","href":null,"layout":null,"metadata":null,"text":"Turn on Ollama","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_43":{"__typename":"Paragraph","id":"13c46153281b_43","name":"1b83","type":"P","href":null,"layout":null,"metadata":null,"text":"First we will turn on ollama and test it. Start by running docker-compose up -d ollama. (Depending on which version of docker you are running you might need to run docker compose rather than docker-compose). This will start just the ollama model server. We can interact with the model server by running an interactive chat session and downloading the model:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":59,"end":86,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":164,"end":178,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":191,"end":205,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_44":{"__typename":"Paragraph","id":"13c46153281b_44","name":"a615","type":"PRE","href":null,"layout":null,"metadata":null,"text":"docker-compose exec ollama ollama run llama3:8b","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":{"__typename":"CodeBlockMetadata","mode":"AUTO","lang":"bash"},"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_45":{"__typename":"Paragraph","id":"13c46153281b_45","name":"50bc","type":"P","href":null,"layout":null,"metadata":null,"text":"In this command the first ollama refers to the container and ollama run llama3:8b is the command that will be executed inside the container. If all goes well you will see the server burst into action and download the llama3 model if this is the first time you've run it. You'll then be presented with an interactive prompt where you'll be able to chat to the model.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":26,"end":32,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"CODE","start":61,"end":81,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*80wzLHdumNtpULYS.png":{"__typename":"ImageMetadata","id":"0*80wzLHdumNtpULYS.png","originalHeight":105,"originalWidth":917,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:13c46153281b_46":{"__typename":"Paragraph","id":"13c46153281b_46","name":"15fe","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*80wzLHdumNtpULYS.png"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_47":{"__typename":"Paragraph","id":"13c46153281b_47","name":"f30a","type":"P","href":null,"layout":null,"metadata":null,"text":"You can press CTRL+D to quit and move on to the next step.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_48":{"__typename":"Paragraph","id":"13c46153281b_48","name":"5e06","type":"H3","href":null,"layout":null,"metadata":null,"text":"Turn on the Web UI","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_49":{"__typename":"Paragraph","id":"13c46153281b_49","name":"da93","type":"P","href":null,"layout":null,"metadata":null,"text":"Now we will start up the web ui. Run docker-compose up -d ui. Now open up your browser and go to http:\u002F\u002Flocalhost:3011\u002F to see the web ui. You will need to register for an account and log in. After which you will be able to interact with the model like so:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"CODE","start":37,"end":60,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*OHRFxjRQaedpHqXK.png":{"__typename":"ImageMetadata","id":"0*OHRFxjRQaedpHqXK.png","originalHeight":566,"originalWidth":1024,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:13c46153281b_50":{"__typename":"Paragraph","id":"13c46153281b_50","name":"33fe","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*OHRFxjRQaedpHqXK.png"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_51":{"__typename":"Paragraph","id":"13c46153281b_51","name":"f424","type":"H3","href":null,"layout":null,"metadata":null,"text":"(Optional) Configure Outside Access","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_52":{"__typename":"Paragraph","id":"13c46153281b_52","name":"1476","type":"P","href":null,"layout":null,"metadata":null,"text":"If you want to be able to chat to your models from the outside world you might want to stand up a reverse proxy to your server. If you’re new to self hosting and you’re not sure about how to do this, a safer option is probably to use Tailscale to build a VPN which you can use to securely connect to your home network without risking exposing your systems to the public and\u002For hackers.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":234,"end":243,"href":"https:\u002F\u002Ftailscale.com\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_53":{"__typename":"Paragraph","id":"13c46153281b_53","name":"45b7","type":"H3","href":null,"layout":null,"metadata":null,"text":"Conclusion","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_54":{"__typename":"Paragraph","id":"13c46153281b_54","name":"f903","type":"P","href":null,"layout":null,"metadata":null,"text":"Llama 3 is a tremendously powerful model that is useful for a whole bunch of use cases including summarisation, creative brainstorming, code copiloting and more. The quality of the responses are in line with GPT-4 and it runs on much older, smaller hardware. Self-hosting Llama 3 won’t be for everyone and it’s quite technically involved. However, for AI geeks like me, running my own ChatGPT clone at home for next-to-nothing was too good an experiment to miss out on.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:13c46153281b_55":{"__typename":"Paragraph","id":"13c46153281b_55","name":"25a2","type":"P","href":null,"layout":null,"metadata":null,"text":"Originally published at https:\u002F\u002Fbrainsteam.co.uk on April 20, 2024.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":24,"end":48,"href":"https:\u002F\u002Fbrainsteam.co.uk\u002F2024\u002F04\u002F20\u002Fself-hosting-llama-3-on-a-home-server\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":0,"end":67,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Membership:7fc432bebb65":{"__typename":"Membership","tier":"MEMBER","id":"7fc432bebb65"},"Tag:ai":{"__typename":"Tag","id":"ai","displayTitle":"AI","normalizedTagSlug":"ai"},"Tag:llm":{"__typename":"Tag","id":"llm","displayTitle":"Llm","normalizedTagSlug":"llm"},"Tag:self-hosted":{"__typename":"Tag","id":"self-hosted","displayTitle":"Self Hosted","normalizedTagSlug":"self-hosted"},"Tag:open-source":{"__typename":"Tag","id":"open-source","displayTitle":"Open Source","normalizedTagSlug":"open-source"},"Tag:chatgpt":{"__typename":"Tag","id":"chatgpt","displayTitle":"ChatGPT","normalizedTagSlug":"chatgpt"},"Post:00feeeba8174":{"__typename":"Post","id":"00feeeba8174","collection":null,"content({\"postMeteringOptions\":{}})":{"__typename":"PostContent","isLockedPreviewOnly":false,"bodyModel":{"__typename":"RichText","sections":[{"__typename":"Section","name":"3bea","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"35bd","startIndex":55,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}],"paragraphs":[{"__ref":"Paragraph:13c46153281b_0"},{"__ref":"Paragraph:13c46153281b_1"},{"__ref":"Paragraph:13c46153281b_2"},{"__ref":"Paragraph:13c46153281b_3"},{"__ref":"Paragraph:13c46153281b_4"},{"__ref":"Paragraph:13c46153281b_5"},{"__ref":"Paragraph:13c46153281b_6"},{"__ref":"Paragraph:13c46153281b_7"},{"__ref":"Paragraph:13c46153281b_8"},{"__ref":"Paragraph:13c46153281b_9"},{"__ref":"Paragraph:13c46153281b_10"},{"__ref":"Paragraph:13c46153281b_11"},{"__ref":"Paragraph:13c46153281b_12"},{"__ref":"Paragraph:13c46153281b_13"},{"__ref":"Paragraph:13c46153281b_14"},{"__ref":"Paragraph:13c46153281b_15"},{"__ref":"Paragraph:13c46153281b_16"},{"__ref":"Paragraph:13c46153281b_17"},{"__ref":"Paragraph:13c46153281b_18"},{"__ref":"Paragraph:13c46153281b_19"},{"__ref":"Paragraph:13c46153281b_20"},{"__ref":"Paragraph:13c46153281b_21"},{"__ref":"Paragraph:13c46153281b_22"},{"__ref":"Paragraph:13c46153281b_23"},{"__ref":"Paragraph:13c46153281b_24"},{"__ref":"Paragraph:13c46153281b_25"},{"__ref":"Paragraph:13c46153281b_26"},{"__ref":"Paragraph:13c46153281b_27"},{"__ref":"Paragraph:13c46153281b_28"},{"__ref":"Paragraph:13c46153281b_29"},{"__ref":"Paragraph:13c46153281b_30"},{"__ref":"Paragraph:13c46153281b_31"},{"__ref":"Paragraph:13c46153281b_32"},{"__ref":"Paragraph:13c46153281b_33"},{"__ref":"Paragraph:13c46153281b_34"},{"__ref":"Paragraph:13c46153281b_35"},{"__ref":"Paragraph:13c46153281b_36"},{"__ref":"Paragraph:13c46153281b_37"},{"__ref":"Paragraph:13c46153281b_38"},{"__ref":"Paragraph:13c46153281b_39"},{"__ref":"Paragraph:13c46153281b_40"},{"__ref":"Paragraph:13c46153281b_41"},{"__ref":"Paragraph:13c46153281b_42"},{"__ref":"Paragraph:13c46153281b_43"},{"__ref":"Paragraph:13c46153281b_44"},{"__ref":"Paragraph:13c46153281b_45"},{"__ref":"Paragraph:13c46153281b_46"},{"__ref":"Paragraph:13c46153281b_47"},{"__ref":"Paragraph:13c46153281b_48"},{"__ref":"Paragraph:13c46153281b_49"},{"__ref":"Paragraph:13c46153281b_50"},{"__ref":"Paragraph:13c46153281b_51"},{"__ref":"Paragraph:13c46153281b_52"},{"__ref":"Paragraph:13c46153281b_53"},{"__ref":"Paragraph:13c46153281b_54"},{"__ref":"Paragraph:13c46153281b_55"}]},"validatedShareKey":"","shareKeyCreator":null},"creator":{"__ref":"User:10d0686f671c"},"inResponseToEntityType":null,"isLocked":false,"isMarkedPaywallOnly":false,"lockedSource":"LOCKED_POST_SOURCE_NONE","mediumUrl":"https:\u002F\u002Fjamesravey.medium.com\u002Fself-hosting-llama-3-on-a-home-server-00feeeba8174","primaryTopic":null,"topics":[{"__typename":"Topic","slug":"programming"}],"isPublished":true,"latestPublishedVersion":"13c46153281b","visibility":"PUBLIC","postResponses":{"__typename":"PostResponses","count":2},"createdAt":1713640185480,"firstPublishedAt":1713638339509,"latestPublishedAt":1713640338510,"clapCount":99,"allowResponses":true,"isLimitedState":false,"title":"Self-hosting Llama 3 on a home server","isSeries":false,"sequence":null,"uniqueSlug":"self-hosting-llama-3-on-a-home-server-00feeeba8174","socialTitle":"","socialDek":"","noIndex":null,"canonicalUrl":"https:\u002F\u002Fbrainsteam.co.uk\u002F2024\u002F04\u002F20\u002Fself-hosting-llama-3-on-a-home-server\u002F","metaDescription":"","readingTime":6.671069182389937,"previewContent":{"__typename":"PreviewContent","subtitle":"Self-hosting Llama 3 as your own ChatGPT replacement service using a 10 year old graphics card and open source components."},"previewImage":{"__ref":"ImageMetadata:0*ay0UpuYeGQ8drvCP.png"},"isShortform":false,"seoTitle":"","updatedAt":1713860328658,"shortformType":"SHORTFORM_TYPE_LINK","seoDescription":"","isSuspended":false,"license":"ALL_RIGHTS_RESERVED","tags":[{"__ref":"Tag:ai"},{"__ref":"Tag:llm"},{"__ref":"Tag:self-hosted"},{"__ref":"Tag:open-source"},{"__ref":"Tag:chatgpt"}],"isNewsletter":false,"statusForCollection":null,"pendingCollection":null,"detectedLanguage":"en","wordCount":1547,"layerCake":6}}</script><script>window.__MIDDLEWARE_STATE__={"session":{"xsrf":""},"cache":{"cacheStatus":"HIT"}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.2e0dd905.js"></script><script src="https://cdn-client.medium.com/lite/static/js/3057.5e22bbb0.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.2bf18fa5.js"></script><script src="https://cdn-client.medium.com/lite/static/js/instrumentation.5e7f2981.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/reporting.2021fe63.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4398.db4d4378.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7883.0e445e04.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9281.e9be8bce.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7111.1421aaa2.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6481.e3e8b67f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8695.17d1af21.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6358.a78f5809.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4341.e697d2a1.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5971.fd9e1c6f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5203.e7a22052.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5514.6018be2b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7098.7bbb418a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5700.db05a33f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8491.7fa46461.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8597.86d62990.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1711.b70f1a35.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9174.244cf6ba.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8883.c8b03d13.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/705.da9267d6.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5781.39279ff8.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8580.feeb2549.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6046.f9be485b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6605.84e81b15.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/500.596a9584.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9408.9f41b422.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6637.8a411a8c.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8565.ce53d42b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4667.993ebc2b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostPage.MainContent.793c1f2c.chunk.js"></script><script>window.main();</script></body></html>